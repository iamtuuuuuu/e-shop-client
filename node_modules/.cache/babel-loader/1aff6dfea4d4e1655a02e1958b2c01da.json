{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/orders.js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/orders.js","mtime":1622513457891},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Z1YW5odHUvRGVza3RvcC93b3Jrc3BhY2UvdnVlL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGFjdGlvbkhhbmRsZXIgZnJvbSAnLi4vYWN0aW9uSGFuZGxlcic7Cgp2YXIgaW5pdGlhbFNpbmdsZU9yZGVyU3RhdGUgPSBmdW5jdGlvbiBpbml0aWFsU2luZ2xlT3JkZXJTdGF0ZSgpIHsKICByZXR1cm4gewogICAgX2lkOiAnJywKICAgIHVzZXI6ICcnLAogICAgb3JkZXJJdGVtczogW10sCiAgICBzaGlwcGluZ0FkZHJlc3M6IHt9LAogICAgcGhvbmU6ICcnLAogICAgc3RhdHVzOiAnJywKICAgIHRvdGFsUHJpY2U6IDAKICB9Owp9OwoKdmFyIHN0YXRlID0gewogIG9yZGVyczogW10sCiAgb3JkZXI6IGluaXRpYWxTaW5nbGVPcmRlclN0YXRlKCkKfTsKdmFyIGdldHRlcnMgPSB7CiAgZ2V0QWxsT3JkZXJzOiBmdW5jdGlvbiBnZXRBbGxPcmRlcnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcnM7CiAgfSwKICBnZXRTaW5nbGVPcmRlcjogZnVuY3Rpb24gZ2V0U2luZ2xlT3JkZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcjsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8qCiAgICogQGRlc2MgICAgICAgIEZldGNoIGFsbCBvcmRlcnMKICAgKiBAYWNjZXNzICAgICAgQWRtaW4KICAgKi8KICBmZXRjaEFsbE9yZGVyczogYWN0aW9uSGFuZGxlciggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICAgIHZhciBjb21taXQsCiAgICAgICAgICByb290U3RhdGUsCiAgICAgICAgICB1c2VySWQsCiAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0LAogICAgICAgICAgZGF0YSwKICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCByb290U3RhdGUgPSBfcmVmLnJvb3RTdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBjb21taXQoJ3Jlc2V0QWxsT3JkZXJzJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL29yZGVycyIuY29uY2F0KHVzZXJJZCA/ICIvZ2V0L3VzZXJvcmRlcnMvIi5jb25jYXQodXNlcklkKSA6ICcnLCAiL29yZGVycyIpLCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQocm9vdFN0YXRlLnVzZXJzLmxvZ2dlZFVzZXIudG9rZW4pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRheGlvcyRnZXQuZGF0YTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEFsbE9yZGVycycsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSksCgogIC8qCiAgICogQGRlc2MgICAgICAgIEZldGNoIHRoZSBsb2dnZWQgaW4gdXNlciBvcmRlcnMKICAgKiBAYWNjZXNzICAgICAgUHJpdmF0ZQogICAqLwogIGZldGNoTXlPcmRlcnM6IGFjdGlvbkhhbmRsZXIoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQsIHJvb3RTdGF0ZSwgX3lpZWxkJGF4aW9zJGdldDIsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgcm9vdFN0YXRlID0gX3JlZjMucm9vdFN0YXRlOwogICAgICAgICAgICAgIGNvbW1pdCgncmVzZXRBbGxPcmRlcnMnKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2dldC91c2Vyb3JkZXJzLyIuY29uY2F0KHJvb3RTdGF0ZS51c2Vycy5sb2dnZWRVc2VyLl9pZCksIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChyb290U3RhdGUudXNlcnMubG9nZ2VkVXNlci50b2tlbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0MiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkZ2V0Mi5kYXRhOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWxsT3JkZXJzJywgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKSwKCiAgLyoKICAgKiBAZGVzYyAgICAgICAgRmV0Y2ggYSB1c2VyIG9yZGVyIGJ5IGlkCiAgICogQGFjY2VzcyAgICAgIFByaXZhdGUKICAgKi8KICBmZXRjaFNpbmdsZU9yZGVyOiBhY3Rpb25IYW5kbGVyKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWY2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmNSwgb3JkZXJJZCkgewogICAgICB2YXIgY29tbWl0LCByb290U3RhdGUsIF95aWVsZCRheGlvcyRnZXQzLCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNS5jb21taXQsIHJvb3RTdGF0ZSA9IF9yZWY1LnJvb3RTdGF0ZTsKICAgICAgICAgICAgICBjb21taXQoJ3Jlc2V0U2luZ2xlT3JkZXInKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL29yZGVycy8iLmNvbmNhdChvcmRlcklkKSwgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHJvb3RTdGF0ZS51c2Vycy5sb2dnZWRVc2VyLnRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRheGlvcyRnZXQzLmRhdGE7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRTaW5nbGVPcmRlcicsIGRhdGEuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkgewogICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKSwKCiAgLyoKICAgKiBAZGVzYyAgICAgICAgQ3JlYXRlcyBhIG5ldyB1c2VyIG9yZGVyCiAgICogQGFjY2VzcyAgICAgIFByaXZhdGUKICAgKi8KICBjcmVhdGVPcmRlcjogYWN0aW9uSGFuZGxlciggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoX3JlZjcsIHBob25lKSB7CiAgICAgIHZhciBjb21taXQsIHJvb3RTdGF0ZSwgX3Jvb3RTdGF0ZSRjYXJ0LCBvcmRlckl0ZW1zLCBzaGlwcGluZ0FkZHJlc3MsIF95aWVsZCRheGlvcyRwb3N0LCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNy5jb21taXQsIHJvb3RTdGF0ZSA9IF9yZWY3LnJvb3RTdGF0ZTsKICAgICAgICAgICAgICBfcm9vdFN0YXRlJGNhcnQgPSByb290U3RhdGUuY2FydCwgb3JkZXJJdGVtcyA9IF9yb290U3RhdGUkY2FydC5pdGVtcywgc2hpcHBpbmdBZGRyZXNzID0gX3Jvb3RTdGF0ZSRjYXJ0LnNoaXBwaW5nQWRkcmVzczsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9vcmRlcnMnLCB7CiAgICAgICAgICAgICAgICB1c2VyOiByb290U3RhdGUudXNlcnMubG9nZ2VkVXNlci5faWQsCiAgICAgICAgICAgICAgICBvcmRlckl0ZW1zOiBvcmRlckl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGl0ZW0ucHJvZHVjdCwKICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IE9iamVjdC5rZXlzKHNoaXBwaW5nQWRkcmVzcykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChrZXksICI9IikuY29uY2F0KHNoaXBwaW5nQWRkcmVzc1trZXldKTsKICAgICAgICAgICAgICAgIH0pLmpvaW4oIiYiKSwKICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChyb290U3RhdGUudXNlcnMubG9nZ2VkVXNlci50b2tlbikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkcG9zdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkcG9zdC5kYXRhOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0U2luZ2xlT3JkZXInLCBkYXRhLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiAoX3g1LCBfeDYpIHsKICAgICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSkKfTsKdmFyIG11dGF0aW9ucyA9IHsKICByZXNldEFsbE9yZGVyczogZnVuY3Rpb24gcmVzZXRBbGxPcmRlcnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcnMgPSBbXTsKICB9LAogIHNldEFsbE9yZGVyczogZnVuY3Rpb24gc2V0QWxsT3JkZXJzKHN0YXRlLCBvcmRlcnMpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcnMgPSBvcmRlcnM7CiAgfSwKICByZXNldFNpbmdsZU9yZGVyOiBmdW5jdGlvbiByZXNldFNpbmdsZU9yZGVyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUub3JkZXIgPSBpbml0aWFsU2luZ2xlT3JkZXJTdGF0ZSgpOwogIH0sCiAgc2V0U2luZ2xlT3JkZXI6IGZ1bmN0aW9uIHNldFNpbmdsZU9yZGVyKHN0YXRlLCBvcmRlcikgewogICAgcmV0dXJuIE9iamVjdC5rZXlzKG9yZGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9yZGVyW2tleV0gPSBvcmRlcltrZXldOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/orders.js"],"names":["axios","actionHandler","initialSingleOrderState","_id","user","orderItems","shippingAddress","phone","status","totalPrice","state","orders","order","getters","getAllOrders","getSingleOrder","actions","fetchAllOrders","commit","rootState","userId","undefined","get","headers","Authorization","users","loggedUser","token","data","fetchMyOrders","fetchSingleOrder","orderId","createOrder","cart","items","post","map","item","product","quantity","Object","keys","key","join","mutations","resetAllOrders","setAllOrders","resetSingleOrder","setSingleOrder","forEach"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport actionHandler from '../actionHandler'\n\nconst initialSingleOrderState = () => ({\n    _id: '',\n    user: '',\n    orderItems: [],\n    shippingAddress: {},\n    phone: '',\n    status: '',\n    totalPrice: 0\n})\n\nconst state = {\n    orders: [],\n    order: initialSingleOrderState()\n}\n\nconst getters = {\n    getAllOrders: state => state.orders,\n    getSingleOrder: state => state.order\n}\n\nconst actions = {\n    /*\n     * @desc        Fetch all orders\n     * @access      Admin\n     */\n    fetchAllOrders: actionHandler(async ({ commit, rootState }, userId = undefined) => {\n        commit('resetAllOrders')\n\n        const { data } = await axios.get(`/orders${userId ? `/get/userorders/${userId}` : ''}/orders`, {\n            headers: { Authorization: `Bearer ${rootState.users.loggedUser.token}` }\n        })\n\n        commit('setAllOrders', data.data)\n    }),\n    \n    /*\n     * @desc        Fetch the logged in user orders\n     * @access      Private\n     */\n    fetchMyOrders: actionHandler(async ({ commit, rootState }) => {\n        commit('resetAllOrders')\n        \n        const { data } = await axios.get(`/get/userorders/${rootState.users.loggedUser._id}`, {\n            headers: { Authorization: `Bearer ${rootState.users.loggedUser.token}` }\n        })\n\n        commit('setAllOrders', data.data)\n    }),\n    \n    /*\n     * @desc        Fetch a user order by id\n     * @access      Private\n     */\n    fetchSingleOrder: actionHandler(async ({ commit, rootState }, orderId) => {\n        commit('resetSingleOrder')\n\n        const { data } = await axios.get(`/orders/${orderId}`, {\n            headers: { Authorization: `Bearer ${rootState.users.loggedUser.token}` }\n        })\n\n        commit('setSingleOrder', data.data)\n    }),\n    \n    /*\n     * @desc        Creates a new user order\n     * @access      Private\n     */\n    createOrder: actionHandler(async ({ commit, rootState }, phone) => {\n        const { items: orderItems, shippingAddress } = rootState.cart\n\n        const { data } = await axios.post('/orders', {\n            user: rootState.users.loggedUser._id,\n            orderItems: orderItems.map(item => {\n                return {\n                    product: item.product,\n                    quantity: item.quantity\n                }\n            }),\n            shippingAddress: Object.keys(shippingAddress).map(key => `${key}=${shippingAddress[key]}`).join(\"&\"),\n            phone\n        }, {\n            headers: { Authorization: `Bearer ${rootState.users.loggedUser.token}` }\n        })\n\n        commit('setSingleOrder', data.data)\n    }),\n}\n\nconst mutations = {\n    resetAllOrders: state => state.orders = [],\n    setAllOrders: (state, orders) => state.orders = orders,\n    \n    resetSingleOrder: state => state.order = initialSingleOrderState(),\n    setSingleOrder: (state, order) => Object.keys(order).forEach(key => state.order[key] = order[key])\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}\n"]}]}