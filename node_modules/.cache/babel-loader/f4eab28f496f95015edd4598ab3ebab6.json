{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Orders.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Orders.vue","mtime":1623249817886},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBkZWZpbmVBc3luY0NvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCB1c2VPcmRlcnMgZnJvbSAiQC9jb21wb3NhYmxlcy91c2VPcmRlcnMiOwppbXBvcnQgZGF5anMgZnJvbSAiZGF5anMiOwppbXBvcnQgbG9jYWxpemVkRm9ybWF0IGZyb20gImRheWpzL3BsdWdpbi9sb2NhbGl6ZWRGb3JtYXQiOwpkYXlqcy5leHRlbmQobG9jYWxpemVkRm9ybWF0KTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJPcmRlcnMiLAogIGNvbXBvbmVudHM6IHsKICAgIFZMb2FkZXI6IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogImxvYWRlci1jb21wb25lbnQiICovCiAgICAgICJAL2NvbXBvbmVudHMvdXRpbHMvVkxvYWRlciIpOwogICAgfSksCiAgICBWQWxlcnQ6IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogIm1lc3NhZ2UtY29tcG9uZW50IiAqLwogICAgICAiQC9jb21wb25lbnRzL3V0aWxzL1ZBbGVydCIpOwogICAgfSkKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlT3JkZXJzID0gdXNlT3JkZXJzKCksCiAgICAgICAgb3JkZXJzID0gX3VzZU9yZGVycy5vcmRlcnMsCiAgICAgICAgZmV0Y2hBbGxPcmRlcnMgPSBfdXNlT3JkZXJzLmZldGNoQWxsT3JkZXJzLAogICAgICAgIGRlbGV0ZU9yZGVyID0gX3VzZU9yZGVycy5kZWxldGVPcmRlciwKICAgICAgICBpc0xvYWRpbmcgPSBfdXNlT3JkZXJzLmlzTG9hZGluZywKICAgICAgICBlcnJvciA9IF91c2VPcmRlcnMuZXJyb3I7CgogICAgZmV0Y2hBbGxPcmRlcnMoKTsKICAgIGNvbnNvbGUubG9nKG9yZGVycyk7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IG9yZGVycywKICAgICAgZGVsZXRlT3JkZXI6IGRlbGV0ZU9yZGVyLAogICAgICBkYXlqczogZGF5anMsCiAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nLAogICAgICBlcnJvcjogZXJyb3IKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Orders.vue"],"names":[],"mappings":";;;AA6FA,SAAS,oBAAT,QAAqC,KAArC;AACA,OAAO,SAAP,MAAsB,yBAAtB;AAEA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP,MAA4B,8BAA5B;AACA,KAAK,CAAC,MAAN,CAAa,eAAb;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAE,oBAAoB,CAAC;AAAA,aAC5B;AACE;AAA2C,kCAD7C,CAD4B;AAAA,KAAD,CADnB;AAMV,IAAA,MAAM,EAAE,oBAAoB,CAAC;AAAA,aAC3B;AACE;AAA4C,iCAD9C,CAD2B;AAAA,KAAD;AANlB,GAFC;AAcb,EAAA,KAda,mBAcL;AAAA,qBAC4D,SAAS,EADrE;AAAA,QACE,MADF,cACE,MADF;AAAA,QACU,cADV,cACU,cADV;AAAA,QAC0B,WAD1B,cAC0B,WAD1B;AAAA,QACuC,SADvC,cACuC,SADvC;AAAA,QACkD,KADlD,cACkD,KADlD;;AAGN,IAAA,cAAc;AAEd,IAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACA,WAAO;AACL,MAAA,MAAM,EAAN,MADK;AAEL,MAAA,WAAW,EAAX,WAFK;AAGL,MAAA,KAAK,EAAL,KAHK;AAIL,MAAA,SAAS,EAAT,SAJK;AAKL,MAAA,KAAK,EAAL;AALK,KAAP;AAOD;AA3BY,CAAf","sourcesContent":["<template>\n  <div id=\"products\" class=\"container-lg container-fluid\">\n    <div class=\"d-flex align-items-center justify-content-between mb-3\">\n      <h2 class=\"mb-0\">Orders</h2>\n    </div>\n\n    <v-loader v-if=\"isLoading\" />\n    <v-alert v-else-if=\"error.message\">\n      {{ error.message }}\n    </v-alert>\n\n    <div class=\"table-responsive\" v-else>\n      <table class=\"table table-hover table-sm\">\n        <thead>\n          <tr>\n            <th>OrderID</th>\n            <th>Username</th>\n            <th>Email</th>\n            <th>Phone number</th>\n            <th>Date</th>\n            <th>Total</th>\n            <th>Status</th>\n            <th>Details</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\" :key=\"order._id\">\n            <td>{{ order._id }}</td>\n            <td>{{ order.user.name }}</td>\n            <td>{{ order.user.email }}</td>\n            <td>{{ order.user.phone }}</td>\n            <td>{{ dayjs(order.dateOrdered).format(\"lll\") }}</td>\n            <td>\n              {{\n                new Intl.NumberFormat(\"en-US\", {\n                  style: \"currency\",\n                  currency: \"USD\",\n                }).format(order.totalPrice)\n              }}\n            </td>\n            <td>{{ order.status }}</td>\n\n            <td>\n              <router-link\n                :to=\"{ name: 'orders.show', params: { id: order._id } }\"\n                class=\"btn btn-link btn-sm\"\n              >\n                <font-awesome-icon :icon=\"['fas', 'info-circle']\" />\n              </router-link>\n            </td>\n            <td>\n              <div class=\"btn-group dropleft\">\n                <button\n                  type=\"button\"\n                  class=\"btn py-0 px-1\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  <font-awesome-icon :icon=\"['fas', 'ellipsis-v']\" />\n                </button>\n\n                <div class=\"dropdown-menu\">\n                  <router-link\n                    :to=\"{\n                      name: 'admin.orders.show',\n                      params: { id: order._id },\n                    }\"\n                    class=\"dropdown-item\"\n                  >\n                    <font-awesome-icon :icon=\"['fas', 'edit']\" class=\"mr-2\" />\n                    Edit\n                  </router-link>\n\n                  <button\n                    class=\"dropdown-item\"\n                    @click.prevent=\"deleteOrder(order._id)\"\n                  >\n                    <font-awesome-icon :icon=\"['fas', 'trash']\" class=\"mr-2\" />\n                    Remove\n                  </button>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineAsyncComponent } from \"vue\";\nimport useOrders from \"@/composables/useOrders\";\n\nimport dayjs from \"dayjs\";\nimport localizedFormat from \"dayjs/plugin/localizedFormat\";\ndayjs.extend(localizedFormat);\n\nexport default {\n  name: \"Orders\",\n  components: {\n    VLoader: defineAsyncComponent(() =>\n      import(\n        /* webpackChunkName: \"loader-component\" */ \"@/components/utils/VLoader\"\n      )\n    ),\n    VAlert: defineAsyncComponent(() =>\n      import(\n        /* webpackChunkName: \"message-component\" */ \"@/components/utils/VAlert\"\n      )\n    ),\n  },\n  setup() {\n    const { orders, fetchAllOrders, deleteOrder, isLoading, error } = useOrders();\n\n    fetchAllOrders();\n\n    console.log(orders);\n    return {\n      orders,\n      deleteOrder,\n      dayjs,\n      isLoading,\n      error,\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\ntable {\n  thead tr th,\n  tbody tr td {\n    text-align: center;\n    vertical-align: middle;\n\n    .btn-group.dropleft {\n      > .btn {\n        font-size: 1.4em;\n      }\n\n      .dropdown-menu {\n        max-width: 14rem;\n\n        .dropdown-header,\n        .dropdown-item {\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n  }\n}\n\n@media (max-width: 767px) {\n  table thead tr th.min-width {\n    min-width: 12rem;\n  }\n}\n</style>\n"],"sourceRoot":""}]}