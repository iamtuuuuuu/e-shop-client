{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js","mtime":1622511870512},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Z1YW5odHUvRGVza3RvcC93b3Jrc3BhY2UvdnVlL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCnZhciBfSlNPTiRwYXJzZSwgX0pTT04kcGFyc2UyLCBfSlNPTiRwYXJzZTM7CgppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBhY3Rpb25IYW5kbGVyIGZyb20gJy4uL2FjdGlvbkhhbmRsZXInOwp2YXIgc3RhdGUgPSB7CiAgaXRlbXM6IChfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnRJdGVtcycpKSkgIT09IG51bGwgJiYgX0pTT04kcGFyc2UgIT09IHZvaWQgMCA/IF9KU09OJHBhcnNlIDogW10sCiAgc2hpcHBpbmdBZGRyZXNzOiAoX0pTT04kcGFyc2UyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2hpcHBpbmdBZGRyZXNzJykpKSAhPT0gbnVsbCAmJiBfSlNPTiRwYXJzZTIgIT09IHZvaWQgMCA/IF9KU09OJHBhcnNlMiA6IHt9LAogIHBheW1lbnRNZXRob2Q6IChfSlNPTiRwYXJzZTMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYXltZW50TWV0aG9kJykpKSAhPT0gbnVsbCAmJiBfSlNPTiRwYXJzZTMgIT09IHZvaWQgMCA/IF9KU09OJHBhcnNlMyA6ICcnCn07CnZhciBnZXR0ZXJzID0gewogIGdldENhcnRJdGVtczogZnVuY3Rpb24gZ2V0Q2FydEl0ZW1zKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaXRlbXM7CiAgfSwKICBnZXRDYXJ0Q291bnQ6IGZ1bmN0aW9uIGdldENhcnRDb3VudChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLml0ZW1zLmxlbmd0aDsKICB9LAogIGdldFNoaXBwaW5nQWRkcmVzczogZnVuY3Rpb24gZ2V0U2hpcHBpbmdBZGRyZXNzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc2hpcHBpbmdBZGRyZXNzOwogIH0sCiAgZ2V0UGF5bWVudE1ldGhvZDogZnVuY3Rpb24gZ2V0UGF5bWVudE1ldGhvZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnBheW1lbnRNZXRob2Q7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvKgogICAqIEBkZXNjICAgICAgICBBZGQgb3IgdXBkYXRlIGEgY2FydCBpdGVtCiAgICogQGFjY2VzcyAgICAgIFB1YmxpYwogICAqLwogIGFkZEl0ZW06IGFjdGlvbkhhbmRsZXIoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGlkLCBxdWFudGl0eSwgX3lpZWxkJGF4aW9zJGdldCwgZGF0YSwgX2RhdGEkZGF0YSwgX2lkLCBuYW1lLCBpbWFnZSwgcHJpY2UsIGNvdW50SW5TdG9jaywgZXhpc3RJdGVtOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgICAgICAgICAgaWQgPSBfcmVmMi5pZCwgcXVhbnRpdHkgPSBfcmVmMi5xdWFudGl0eTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvcHJvZHVjdHMvIi5jb25jYXQoaWQpKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwogICAgICAgICAgICAgIF9kYXRhJGRhdGEgPSBkYXRhLmRhdGEsIF9pZCA9IF9kYXRhJGRhdGEuX2lkLCBuYW1lID0gX2RhdGEkZGF0YS5uYW1lLCBpbWFnZSA9IF9kYXRhJGRhdGEuaW1hZ2UsIHByaWNlID0gX2RhdGEkZGF0YS5wcmljZSwgY291bnRJblN0b2NrID0gX2RhdGEkZGF0YS5jb3VudEluU3RvY2s7CiAgICAgICAgICAgICAgZXhpc3RJdGVtID0gc3RhdGUuaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wcm9kdWN0ID09PSBfaWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29tbWl0KGV4aXN0SXRlbSAhPT0gLTEgPyAndXBkYXRlQ2FydEl0ZW0nIDogJ2FkZEl0ZW1Ub0NhcnQnLCB7CiAgICAgICAgICAgICAgICBwcm9kdWN0OiBfaWQsCiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlLAogICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlLAogICAgICAgICAgICAgICAgY291bnRJblN0b2NrOiBjb3VudEluU3RvY2ssCiAgICAgICAgICAgICAgICBxdWFudGl0eTogcXVhbnRpdHkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydEl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuaXRlbXMpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKSwKCiAgLyoKICAgKiBAZGVzYyAgICAgICAgUmVtb3ZlIGEgY2FydCBpdGVtCiAgICogQGFjY2VzcyAgICAgIFB1YmxpYwogICAqLwogIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oX3JlZjQsIGlkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICBjb21taXQoJ3JlbW92ZUNhcnRJdGVtJywgaWQpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnRJdGVtcycsIEpTT04uc3RyaW5naWZ5KHN0YXRlLml0ZW1zKSk7CiAgfSwKCiAgLyoKICAgKiBAZGVzYyAgICAgICAgU2F2ZSB0aGUgdXNlciBzaGlwcGluZyBhZGRyZXNzIG9uIGxvY2FsU3RvcmFnZQogICAqIEBhY2Nlc3MgICAgICBQdWJsaWMKICAgKi8KICBzYXZlU2hpcHBpbmdBZGRyZXNzOiBmdW5jdGlvbiBzYXZlU2hpcHBpbmdBZGRyZXNzKF9yZWY1LCBfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlOwogICAgdmFyIGFkZHJlc3MgPSBfcmVmNi5hZGRyZXNzLAogICAgICAgIGNpdHkgPSBfcmVmNi5jaXR5LAogICAgICAgIHBvc3RhbENvZGUgPSBfcmVmNi5wb3N0YWxDb2RlLAogICAgICAgIGNvdW50cnkgPSBfcmVmNi5jb3VudHJ5OwogICAgY29tbWl0KCdzZXRTaGlwcGluZ0FkZHJlc3MnLCB7CiAgICAgIGFkZHJlc3M6IGFkZHJlc3MsCiAgICAgIGNpdHk6IGNpdHksCiAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGUsCiAgICAgIGNvdW50cnk6IGNvdW50cnkKICAgIH0pOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NoaXBwaW5nQWRkcmVzcycsIEpTT04uc3RyaW5naWZ5KHN0YXRlLnNoaXBwaW5nQWRkcmVzcykpOwogIH0sCgogIC8qCiAgICogQGRlc2MgICAgICAgIFNhdmUgdGhlIHVzZXIgcGF5bWVudCBtZXRob2Qgb24gbG9jYWxTdG9yYWdlCiAgICogQGFjY2VzcyAgICAgIFB1YmxpYwogICAqLwogIHNhdmVQYXltZW50TWV0aG9kOiBmdW5jdGlvbiBzYXZlUGF5bWVudE1ldGhvZChfcmVmNywgcGF5bWVudE1ldGhvZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0UGF5bWVudE1ldGhvZCcsIHBheW1lbnRNZXRob2QpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BheW1lbnRNZXRob2QnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5wYXltZW50TWV0aG9kKSk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIGFkZEl0ZW1Ub0NhcnQ6IGZ1bmN0aW9uIGFkZEl0ZW1Ub0NhcnQoc3RhdGUsIGl0ZW0pIHsKICAgIHJldHVybiBzdGF0ZS5pdGVtcy51bnNoaWZ0KGl0ZW0pOwogIH0sCiAgdXBkYXRlQ2FydEl0ZW06IGZ1bmN0aW9uIHVwZGF0ZUNhcnRJdGVtKHN0YXRlLCBuZXdJdGVtKSB7CiAgICB2YXIgaXRlbSA9IHN0YXRlLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdCA9PT0gbmV3SXRlbS5wcm9kdWN0OwogICAgfSk7CiAgICBPYmplY3Qua2V5cyhuZXdJdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgcmV0dXJuIGl0ZW1ba2V5XSA9IG5ld0l0ZW1ba2V5XTsKICAgIH0pOwogIH0sCiAgcmVtb3ZlQ2FydEl0ZW06IGZ1bmN0aW9uIHJlbW92ZUNhcnRJdGVtKHN0YXRlLCBpZCkgewogICAgcmV0dXJuIHN0YXRlLml0ZW1zID0gc3RhdGUuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QgIT09IGlkOwogICAgfSk7CiAgfSwKICBzZXRTaGlwcGluZ0FkZHJlc3M6IGZ1bmN0aW9uIHNldFNoaXBwaW5nQWRkcmVzcyhzdGF0ZSwgc2hpcHBpbmdBZGRyZXNzKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2hpcHBpbmdBZGRyZXNzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNoaXBwaW5nQWRkcmVzc1trZXldID0gc2hpcHBpbmdBZGRyZXNzW2tleV07CiAgICB9KTsKICB9LAogIHNldFBheW1lbnRNZXRob2Q6IGZ1bmN0aW9uIHNldFBheW1lbnRNZXRob2Qoc3RhdGUsIHBheW1lbnRNZXRob2QpIHsKICAgIHJldHVybiBzdGF0ZS5wYXltZW50TWV0aG9kID0gcGF5bWVudE1ldGhvZDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js"],"names":["axios","actionHandler","state","items","JSON","parse","localStorage","getItem","shippingAddress","paymentMethod","getters","getCartItems","getCartCount","length","getShippingAddress","getPaymentMethod","actions","addItem","commit","id","quantity","get","data","_id","name","image","price","countInStock","existItem","findIndex","item","product","setItem","stringify","removeItem","saveShippingAddress","address","city","postalCode","country","savePaymentMethod","mutations","addItemToCart","unshift","updateCartItem","newItem","find","Object","keys","forEach","key","removeCartItem","filter","setShippingAddress","setPaymentMethod"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,iBAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAF,qDAAmD,EAD9C;AAEVC,EAAAA,eAAe,kBAAEJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAF,uDAAyD,EAF9D;AAGVE,EAAAA,aAAa,kBAAEL,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAF,uDAAuD;AAH1D,CAAd;AAMA,IAAMG,OAAO,GAAG;AACZC,EAAAA,YAAY,EAAE,sBAAAT,KAAK;AAAA,WAAIA,KAAK,CAACC,KAAV;AAAA,GADP;AAEZS,EAAAA,YAAY,EAAE,sBAAAV,KAAK;AAAA,WAAIA,KAAK,CAACC,KAAN,CAAYU,MAAhB;AAAA,GAFP;AAIZC,EAAAA,kBAAkB,EAAE,4BAAAZ,KAAK;AAAA,WAAIA,KAAK,CAACM,eAAV;AAAA,GAJb;AAKZO,EAAAA,gBAAgB,EAAE,0BAAAb,KAAK;AAAA,WAAIA,KAAK,CAACO,aAAV;AAAA;AALX,CAAhB;AAQA,IAAMO,OAAO,GAAG;AACZ;AACJ;AACA;AACA;AACIC,EAAAA,OAAO,EAAEhB,aAAa;AAAA,wEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASiB,cAAAA,MAAT,QAASA,MAAT,EAAiBhB,KAAjB,QAAiBA,KAAjB;AAA4BiB,cAAAA,EAA5B,SAA4BA,EAA5B,EAAgCC,QAAhC,SAAgCA,QAAhC;AAAA;AAAA,qBACIpB,KAAK,CAACqB,GAAN,qBAAuBF,EAAvB,EADJ;;AAAA;AAAA;AACXG,cAAAA,IADW,oBACXA,IADW;AAAA,2BAE+BA,IAAI,CAACA,IAFpC,EAEXC,GAFW,cAEXA,GAFW,EAENC,IAFM,cAENA,IAFM,EAEAC,KAFA,cAEAA,KAFA,EAEOC,KAFP,cAEOA,KAFP,EAEcC,YAFd,cAEcA,YAFd;AAIbC,cAAAA,SAJa,GAID1B,KAAK,CAACC,KAAN,CAAY0B,SAAZ,CAAsB,UAAAC,IAAI;AAAA,uBAAIA,IAAI,CAACC,OAAL,KAAiBR,GAArB;AAAA,eAA1B,CAJC;AAMnBL,cAAAA,MAAM,CAACU,SAAS,KAAK,CAAC,CAAf,GAAmB,gBAAnB,GAAsC,eAAvC,EAAwD;AAC1DG,gBAAAA,OAAO,EAAER,GADiD;AAE1DC,gBAAAA,IAAI,EAAJA,IAF0D;AAG1DC,gBAAAA,KAAK,EAALA,KAH0D;AAI1DC,gBAAAA,KAAK,EAALA,KAJ0D;AAK1DC,gBAAAA,YAAY,EAAZA,YAL0D;AAM1DP,gBAAAA,QAAQ,EAARA;AAN0D,eAAxD,CAAN;AASAd,cAAAA,YAAY,CAAC0B,OAAb,CAAqB,WAArB,EAAkC5B,IAAI,CAAC6B,SAAL,CAAe/B,KAAK,CAACC,KAArB,CAAlC;;AAfmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,MALV;;AAuBZ;AACJ;AACA;AACA;AACI+B,EAAAA,UA3BY,6BA2BkBf,EA3BlB,EA2BsB;AAAA,QAArBD,MAAqB,SAArBA,MAAqB;AAAA,QAAbhB,KAAa,SAAbA,KAAa;AAC9BgB,IAAAA,MAAM,CAAC,gBAAD,EAAmBC,EAAnB,CAAN;AACAb,IAAAA,YAAY,CAAC0B,OAAb,CAAqB,WAArB,EAAkC5B,IAAI,CAAC6B,SAAL,CAAe/B,KAAK,CAACC,KAArB,CAAlC;AACH,GA9BW;;AAgCZ;AACJ;AACA;AACA;AACIgC,EAAAA,mBApCY,6CAoCmE;AAAA,QAAzDjB,MAAyD,SAAzDA,MAAyD;AAAA,QAAjDhB,KAAiD,SAAjDA,KAAiD;AAAA,QAAtCkC,OAAsC,SAAtCA,OAAsC;AAAA,QAA7BC,IAA6B,SAA7BA,IAA6B;AAAA,QAAvBC,UAAuB,SAAvBA,UAAuB;AAAA,QAAXC,OAAW,SAAXA,OAAW;AAC3ErB,IAAAA,MAAM,CAAC,oBAAD,EAAuB;AAAEkB,MAAAA,OAAO,EAAPA,OAAF;AAAWC,MAAAA,IAAI,EAAJA,IAAX;AAAiBC,MAAAA,UAAU,EAAVA,UAAjB;AAA6BC,MAAAA,OAAO,EAAPA;AAA7B,KAAvB,CAAN;AACAjC,IAAAA,YAAY,CAAC0B,OAAb,CAAqB,iBAArB,EAAwC5B,IAAI,CAAC6B,SAAL,CAAe/B,KAAK,CAACM,eAArB,CAAxC;AACH,GAvCW;;AAyCZ;AACJ;AACA;AACA;AACIgC,EAAAA,iBA7CY,oCA6CkB/B,aA7ClB,EA6CiC;AAAA,QAAzBS,MAAyB,SAAzBA,MAAyB;AACzCA,IAAAA,MAAM,CAAC,kBAAD,EAAqBT,aAArB,CAAN;AACAH,IAAAA,YAAY,CAAC0B,OAAb,CAAqB,eAArB,EAAsC5B,IAAI,CAAC6B,SAAL,CAAe/B,KAAK,CAACO,aAArB,CAAtC;AACH;AAhDW,CAAhB;AAmDA,IAAMgC,SAAS,GAAG;AACdC,EAAAA,aAAa,EAAE,uBAACxC,KAAD,EAAQ4B,IAAR;AAAA,WAAiB5B,KAAK,CAACC,KAAN,CAAYwC,OAAZ,CAAoBb,IAApB,CAAjB;AAAA,GADD;AAEdc,EAAAA,cAAc,EAAE,wBAAC1C,KAAD,EAAQ2C,OAAR,EAAoB;AAChC,QAAMf,IAAI,GAAG5B,KAAK,CAACC,KAAN,CAAY2C,IAAZ,CAAiB,UAAAhB,IAAI;AAAA,aAAIA,IAAI,CAACC,OAAL,KAAiBc,OAAO,CAACd,OAA7B;AAAA,KAArB,CAAb;AACAgB,IAAAA,MAAM,CAACC,IAAP,CAAYH,OAAZ,EAAqBI,OAArB,CAA6B,UAAAC,GAAG;AAAA,aAAIpB,IAAI,CAACoB,GAAD,CAAJ,GAAYL,OAAO,CAACK,GAAD,CAAvB;AAAA,KAAhC;AACH,GALa;AAMdC,EAAAA,cAAc,EAAE,wBAACjD,KAAD,EAAQiB,EAAR;AAAA,WAAejB,KAAK,CAACC,KAAN,GAAcD,KAAK,CAACC,KAAN,CAAYiD,MAAZ,CAAmB,UAAAtB,IAAI;AAAA,aAAIA,IAAI,CAACC,OAAL,KAAiBZ,EAArB;AAAA,KAAvB,CAA7B;AAAA,GANF;AAQdkC,EAAAA,kBAAkB,EAAE,4BAACnD,KAAD,EAAQM,eAAR;AAAA,WAA4BuC,MAAM,CAACC,IAAP,CAAYxC,eAAZ,EAA6ByC,OAA7B,CAAqC,UAAAC,GAAG;AAAA,aAAIhD,KAAK,CAACM,eAAN,CAAsB0C,GAAtB,IAA6B1C,eAAe,CAAC0C,GAAD,CAAhD;AAAA,KAAxC,CAA5B;AAAA,GARN;AASdI,EAAAA,gBAAgB,EAAE,0BAACpD,KAAD,EAAQO,aAAR;AAAA,WAA0BP,KAAK,CAACO,aAAN,GAAsBA,aAAhD;AAAA;AATJ,CAAlB;AAYA,eAAe;AACXP,EAAAA,KAAK,EAALA,KADW;AAEXQ,EAAAA,OAAO,EAAPA,OAFW;AAGXM,EAAAA,OAAO,EAAPA,OAHW;AAIXyB,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import axios from 'axios'\nimport actionHandler from '../actionHandler'\n\nconst state = {\n    items: JSON.parse(localStorage.getItem('cartItems')) ?? [],\n    shippingAddress: JSON.parse(localStorage.getItem('shippingAddress')) ?? {},\n    paymentMethod: JSON.parse(localStorage.getItem('paymentMethod')) ?? '',\n}\n\nconst getters = {\n    getCartItems: state => state.items,\n    getCartCount: state => state.items.length,\n\n    getShippingAddress: state => state.shippingAddress,\n    getPaymentMethod: state => state.paymentMethod\n}\n\nconst actions = {\n    /*\n     * @desc        Add or update a cart item\n     * @access      Public\n     */\n    addItem: actionHandler(async ({ commit, state }, { id, quantity }) => {\n        const { data } = await axios.get(`/products/${id}`)\n        const { _id, name, image, price, countInStock } = data.data\n        \n        const existItem = state.items.findIndex(item => item.product === _id)\n        \n        commit(existItem !== -1 ? 'updateCartItem' : 'addItemToCart', {\n            product: _id,\n            name,\n            image,\n            price,\n            countInStock,\n            quantity\n        })\n\n        localStorage.setItem('cartItems', JSON.stringify(state.items))\n    }),\n    \n    /*\n     * @desc        Remove a cart item\n     * @access      Public\n     */\n    removeItem({ commit, state }, id) {\n        commit('removeCartItem', id)\n        localStorage.setItem('cartItems', JSON.stringify(state.items))\n    },\n\n    /*\n     * @desc        Save the user shipping address on localStorage\n     * @access      Public\n     */\n    saveShippingAddress({ commit, state }, { address, city, postalCode, country }) {\n        commit('setShippingAddress', { address, city, postalCode, country })\n        localStorage.setItem('shippingAddress', JSON.stringify(state.shippingAddress))\n    },\n\n    /*\n     * @desc        Save the user payment method on localStorage\n     * @access      Public\n     */\n    savePaymentMethod({ commit }, paymentMethod) {\n        commit('setPaymentMethod', paymentMethod)\n        localStorage.setItem('paymentMethod', JSON.stringify(state.paymentMethod))\n    }\n}\n\nconst mutations = {\n    addItemToCart: (state, item) => state.items.unshift(item),\n    updateCartItem: (state, newItem) => {\n        const item = state.items.find(item => item.product === newItem.product)\n        Object.keys(newItem).forEach(key => item[key] = newItem[key])\n    },\n    removeCartItem: (state, id) => state.items = state.items.filter(item => item.product !== id),\n\n    setShippingAddress: (state, shippingAddress) => Object.keys(shippingAddress).forEach(key => state.shippingAddress[key] = shippingAddress[key]),\n    setPaymentMethod: (state, paymentMethod) => state.paymentMethod = paymentMethod\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}\n"]}]}