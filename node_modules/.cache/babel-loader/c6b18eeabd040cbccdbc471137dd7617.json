{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/components/VHeader.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/components/VHeader.vue","mtime":1623077121831},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICdib290c3RyYXAvanMvZGlzdC9jb2xsYXBzZSc7CmltcG9ydCAnYm9vdHN0cmFwL2pzL2Rpc3QvZHJvcGRvd24nOwppbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB1c2VVc2Vyc0F1dGhlbnRpY2F0aW9uIGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlVXNlcnNBdXRoZW50aWNhdGlvbi5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVkhlYWRlcicsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBjYXJ0Q291bnQgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydnZXRDYXJ0Q291bnQnXTsKICAgIH0pOwoKICAgIHZhciBfdXNlVXNlcnNBdXRoZW50aWNhdGkgPSB1c2VVc2Vyc0F1dGhlbnRpY2F0aW9uKCksCiAgICAgICAgdXNlciA9IF91c2VVc2Vyc0F1dGhlbnRpY2F0aS51c2VyLAogICAgICAgIGxvZ291dFVzZXIgPSBfdXNlVXNlcnNBdXRoZW50aWNhdGkubG9nb3V0VXNlcjsKCiAgICByZXR1cm4gewogICAgICBjYXJ0Q291bnQ6IGNhcnRDb3VudCwKICAgICAgdXNlcjogdXNlciwKICAgICAgbG9nb3V0VXNlcjogbG9nb3V0VXNlcgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBDbG9zZSBjb2xsYXBzZWQgbmF2YmFyIGFmdGVyIGNsaWNraW5nIGFueSBuYXYtbGluawogICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgIlxuICAgICAgICAgICAgLm5hdmJhci1jb2xsYXBzZS5zaG93IC5uYXYtaXRlbSAubmF2LWxpbms6bm90KCcuZHJvcGRvd24tdG9nZ2xlJyksXG4gICAgICAgICAgICAubmF2YmFyLWNvbGxhcHNlLnNob3cgLm5hdi1pdGVtLmRyb3Bkb3duIC5kcm9wZG93bi1tZW51IGEuZHJvcGRvd24taXRlbVxuICAgICAgICAiLCBmdW5jdGlvbiAoKSB7CiAgICAgICQoJy5uYXZiYXItY29sbGFwc2Uuc2hvdycpLmNvbGxhcHNlKCdoaWRlJyk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/components/VHeader.vue"],"names":[],"mappings":"AAkEA,OAAO,4BAAP;AACA,OAAO,4BAAP;AACA,SAAS,QAAT,QAAyB,KAAzB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,OAAO,sBAAP,MAAmC,yCAAnC;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAEX,EAAA,KAFW,mBAEH;AACJ,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,SAAQ,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,OAAN,CAAc,cAAd,CAAN;AAAA,KAAD,CAA1B;;AAFI,gCAGyB,sBAAsB,EAH/C;AAAA,QAGI,IAHJ,yBAGI,IAHJ;AAAA,QAGU,UAHV,yBAGU,UAHV;;AAKJ,WAAO;AACH,MAAA,SAAS,EAAT,SADG;AAEH,MAAA,IAAI,EAAJ,IAFG;AAGH,MAAA,UAAS,EAAT;AAHG,KAAP;AAKH,GAZU;AAaX,EAAA,OAbW,qBAaD;AACN;AACA,IAAA,CAAC,CAAC,QAAD,CAAD,CAAY,EAAZ,CAAe,OAAf,qLAGG,YAAM;AACL,MAAA,CAAC,CAAC,uBAAD,CAAD,CAA2B,QAA3B,CAAoC,MAApC;AACH,KALD;AAMJ;AArBW,CAAf","sourcesContent":["<template>\n<header>\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark\">\n        <div class=\"container-lg container-fluid\">\n            <router-link :to=\"{ name: 'home' }\" class=\"navbar-brand\">ProShop</router-link>\n            <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n\n            <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <ul class=\"navbar-nav ml-auto\">\n                    <li class=\"nav-item\">\n                        <router-link :to=\"{ name: 'home' }\" class=\"nav-link\">\n                            <font-awesome-icon :icon=\"['fas', 'home']\" fixed-width />\n                            Home\n                        </router-link>\n                    </li>\n                    <li class=\"nav-item\">\n                        <router-link :to=\"{ name: 'cart' }\" class=\"nav-link\">\n                            <font-awesome-icon :icon=\"['fas', 'shopping-cart']\" fixed-width />\n                            Cart\n                            <span class=\"badge rounded-circle\">{{ cartCount }}</span>\n                        </router-link>\n                    </li>\n\n                    <li class=\"nav-item dropdown\" v-if=\"user._id\">\n                        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"userMenuDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <font-awesome-icon :icon=\"['fas', 'user']\" fixed-width />\n                            {{ user.name }}\n                        </a>\n\n                        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"userMenuDropdown\">\n                            <router-link :to=\"{ name: 'profile' }\" class=\"dropdown-item\">Profile</router-link>\n\n                            <div v-if=\"user.isAdmin\">\n                                <div class=\"dropdown-divider\"></div>\n                                <h6 class=\"dropdown-header\">\n                                    <font-awesome-icon :icon=\"['fas', 'user-cog']\" fixed-width />\n                                    Admin\n                                </h6>\n\n                                <router-link :to=\"{ name: 'admin.users.index' }\" class=\"dropdown-item\">Users</router-link>\n                                <router-link :to=\"{ name: 'admin.products.index' }\" class=\"dropdown-item\">Products</router-link>\n                                <router-link :to=\"{ name: 'admin.orders.index' }\" class=\"dropdown-item\">Orders</router-link>\n                            </div>\n\n                            <div class=\"dropdown-divider\"></div>\n                            <button class=\"dropdown-item\" @click=\"logoutUser\">\n                                Logout\n                            </button>\n                        </div>\n                    </li>\n                    <li class=\"nav-item\" v-else>\n                        <router-link :to=\"{ name: 'login' }\" class=\"nav-link\">\n                            <font-awesome-icon :icon=\"['fas', 'user']\" fixed-width />\n                            Sign In\n                        </router-link>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n</header>\n</template>\n\n<script>\nimport 'bootstrap/js/dist/collapse'\nimport 'bootstrap/js/dist/dropdown'\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport useUsersAuthentication from '@/composables/useUsersAuthentication.js'\n\nexport default {\n    name: 'VHeader',\n    setup() {\n        const store = useStore()\n        const cartCount = computed(() => store.getters['getCartCount'])\n        const { user, logoutUser } = useUsersAuthentication()\n    \n        return {\n            cartCount,\n            user,\n            logoutUser\n        }\n    },\n    mounted() {\n        // Close collapsed navbar after clicking any nav-link\n        $(document).on('click', `\n            .navbar-collapse.show .nav-item .nav-link:not('.dropdown-toggle'),\n            .navbar-collapse.show .nav-item.dropdown .dropdown-menu a.dropdown-item\n        `, () => {\n            $('.navbar-collapse.show').collapse('hide')\n        })\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.navbar {\n    .navbar-nav {\n        .nav-link {\n            font-weight: 600;\n\n            margin-left: 1.2rem;\n\n            > .badge {\n                color: #000;\n                background-color: rgba(255, 255, 255, .5);\n            }\n        }\n\n        .dropdown-item { font-weight: 600; }\n\n        .dropdown-item.router-link-active,\n        .nav-link.router-link-active {\n            color: var(--secondary);\n\n            > .badge { background-color: var(--secondary) }\n        }\n    }\n}\n</style>\n"],"sourceRoot":""}]}