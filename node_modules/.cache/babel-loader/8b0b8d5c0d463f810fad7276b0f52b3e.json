{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Users.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Users.vue","mtime":1623291868985},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBkZWZpbmVBc3luY0NvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB1c2VVc2Vyc0RldGFpbHMgZnJvbSAnQC9jb21wb3NhYmxlcy91c2VVc2Vyc0RldGFpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzZXJzJywKICBjb21wb25lbnRzOiB7CiAgICBWTG9hZGVyOiBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJsb2FkZXItY29tcG9uZW50IiAqLwogICAgICAnQC9jb21wb25lbnRzL3V0aWxzL1ZMb2FkZXInKTsKICAgIH0pLAogICAgVkFsZXJ0OiBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJtZXNzYWdlLWNvbXBvbmVudCIgKi8KICAgICAgJ0AvY29tcG9uZW50cy91dGlscy9WQWxlcnQnKTsKICAgIH0pCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVVzZXJzRGV0YWlscyA9IHVzZVVzZXJzRGV0YWlscygpLAogICAgICAgIHVzZXJzID0gX3VzZVVzZXJzRGV0YWlscy51c2VycywKICAgICAgICBmZXRjaEFsbFVzZXJzID0gX3VzZVVzZXJzRGV0YWlscy5mZXRjaEFsbFVzZXJzLAogICAgICAgIGRlbGV0ZVVzZXIgPSBfdXNlVXNlcnNEZXRhaWxzLmRlbGV0ZVVzZXIsCiAgICAgICAgaXNMb2FkaW5nID0gX3VzZVVzZXJzRGV0YWlscy5pc0xvYWRpbmcsCiAgICAgICAgZXJyb3IgPSBfdXNlVXNlcnNEZXRhaWxzLmVycm9yOwoKICAgIGZldGNoQWxsVXNlcnMoKTsKICAgIGNvbnNvbGUubG9nKHVzZXJzKTsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiB1c2VycywKICAgICAgZGVsZXRlVXNlcjogZGVsZXRlVXNlciwKICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsCiAgICAgIGVycm9yOiBlcnJvcgogICAgfTsKICB9Cn07"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/views/Admin/Users.vue"],"names":[],"mappings":";;;AAwDA,SAAS,oBAAT,QAAqC,KAArC;AACA,OAAO,eAAP,MAA4B,+BAA5B;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,OADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,OAAO,EAAE,oBAAoB,CAAC;AAAA,aAAM;AAAO;AAA2C,kCAAlD,CAAN;AAAA,KAAD,CADrB;AAER,IAAA,MAAM,EAAE,oBAAoB,CAAC;AAAA,aAAM;AAAO;AAA4C,iCAAnD,CAAN;AAAA,KAAD;AAFpB,GAFD;AAMX,EAAA,KANW,mBAMH;AAAA,2BAC2D,eAAe,EAD1E;AAAA,QACI,KADJ,oBACI,KADJ;AAAA,QACW,aADX,oBACW,aADX;AAAA,QAC0B,UAD1B,oBAC0B,UAD1B;AAAA,QACsC,SADtC,oBACsC,SADtC;AAAA,QACiD,KADjD,oBACiD,KADjD;;AAGJ,IAAA,aAAa;AACb,IAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,WAAO;AACH,MAAA,KAAK,EAAL,KADG;AAEH,MAAA,UAAU,EAAV,UAFG;AAGH,MAAA,SAAS,EAAT,SAHG;AAIH,MAAA,KAAI,EAAJ;AAJG,KAAP;AAMJ;AAjBW,CAAf","sourcesContent":["<template>\n<div id=\"users\" class=\"container-lg container-fluid\">\n    <h2 class=\"mb-3\">Users</h2>\n    \n    <v-loader v-if=\"isLoading\" />\n    <v-alert v-else-if=\"error.message\">\n        {{ error.message }}\n    </v-alert>\n\n    <div class=\"table-responsive\" v-else>\n        <table class=\"table table-hover table-sm\">\n            <thead>\n                <tr>\n                    <th>Id</th>\n                    <th class=\"min-width\">Name</th>\n                    <th>Email</th>\n                    <th>Admin</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"user in users\" :key=\"user._id\">\n                    <td>{{ user._id }}</td>\n                    <td>{{ user.name }}</td>\n                    <td>\n                        <a :href=\"`mailto:${user.email}`\">{{ user.email }}</a>\n                    </td>\n                    <td>\n                        <font-awesome-icon :icon=\"['fas', user.isAdmin ? 'check' : 'times']\" />\n                    </td>\n                    <td>\n                        <div class=\"btn-group dropleft\">\n                            <button type=\"button\" class=\"btn py-0 px-1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                <font-awesome-icon :icon=\"['fas', 'ellipsis-v']\" />\n                            </button>\n\n                            <div class=\"dropdown-menu\">\n                                <h6 class=\"dropdown-header\">{{ user.name }}</h6>\n                                <router-link :to=\"{ name: 'admin.users.show', params: { id: user._id } }\" class=\"dropdown-item\">\n                                    <font-awesome-icon :icon=\"['fas', 'edit']\" class=\"mr-2\" /> Edit\n                                </router-link>\n\n                                <button class=\"dropdown-item\" @click.prevent=\"deleteUser(user._id)\">\n                                    <font-awesome-icon :icon=\"['fas', 'trash']\" class=\"mr-2\" /> Remove\n                                </button>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n</template>\n\n<script>\nimport { defineAsyncComponent } from 'vue'\nimport useUsersDetails from '@/composables/useUsersDetails'\n\nexport default {\n    name: 'Users',\n    components: {\n        VLoader: defineAsyncComponent(() => import(/* webpackChunkName: \"loader-component\" */ '@/components/utils/VLoader')),\n        VAlert: defineAsyncComponent(() => import(/* webpackChunkName: \"message-component\" */ '@/components/utils/VAlert'))\n    },\n    setup() {\n        const { users, fetchAllUsers, deleteUser, isLoading, error } = useUsersDetails()\n\n        fetchAllUsers()\n        console.log(users)\n        return {\n            users,\n            deleteUser,\n            isLoading,\n            error\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\ntable {\n    thead tr th,\n    tbody tr td {\n        text-align: center;\n        vertical-align: middle;\n\n        svg {\n            &.fa-check { color: var(--success) }\n            &.fa-times { color: var(--danger) }\n        }\n        \n        .btn-group.dropleft {\n            > .btn {\n                font-size: 1.4em;\n            }\n            \n            .dropdown-menu {\n                max-width: 14rem;\n\n                .dropdown-header,\n                .dropdown-item {\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n            }\n        }\n\n    }\n}\n\n@media (max-width: 767px) {\n    table thead tr th.min-width {\n        min-width: 12rem\n    }\n}\n</style>\n"],"sourceRoot":""}]}