{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/composables/useUsersDetails.js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/composables/useUsersDetails.js","mtime":1623339786961},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Z1YW5odHUvRGVza3RvcC93b3Jrc3BhY2UvdnVlL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBjb21wdXRlZCwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlVXNlcnNEZXRhaWxzKCkgewogIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgdmFyIHN1Y2Nlc3MgPSByZWYoZmFsc2UpOwogIHZhciB1c2VycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydnZXRBbGxVc2VycyddOwogIH0pOwogIHZhciB1c2VyTG9nZ2VkSW4gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1snZ2V0TG9nZ2VkVXNlciddOwogIH0pOwogIHZhciB1c2VyRGV0YWlscyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydnZXRVc2VyRGV0YWlscyddOwogIH0pOwoKICB2YXIgZmV0Y2hBbGxVc2VycyA9IGZ1bmN0aW9uIGZldGNoQWxsVXNlcnMoKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2ZldGNoQWxsVXNlcnMnKTsKICB9OwoKICB2YXIgZmV0Y2hVc2VyTG9nZ2VkSW4gPSBmdW5jdGlvbiBmZXRjaFVzZXJMb2dnZWRJbigpIHsKICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnZmV0Y2hVc2VyTG9nZ2VkSW4nKTsKICB9OwoKICB2YXIgZmV0Y2hVc2VyQnlJZCA9IGZ1bmN0aW9uIGZldGNoVXNlckJ5SWQodXNlcklkKSB7CiAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2ZldGNoVXNlckJ5SWQnLCB1c2VySWQpOwogIH07CgogIHZhciB1cGRhdGVVc2VyUHJvZmlsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1c2VyKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoISh1c2VyLnBhc3N3b3JkICE9PSB1c2VyLmNvbmZpcm1QYXNzd29yZCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ3V0aWxzL3NldEVycm9yJywgewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBwYXNzd29yZCBjb25maXJtYXRpb24gbXVzdCBtYXRjaCcKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVVc2VyRGV0YWlscycsIHsKICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsCiAgICAgICAgICAgICAgICByb3V0ZTogJ3Byb2ZpbGUnCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgc3VjY2Vzcy52YWx1ZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiB1cGRhdGVVc2VyUHJvZmlsZShfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciB1cGRhdGVVc2VyRGV0YWlscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHVzZXIpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVVc2VyRGV0YWlscycsIHsKICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgc3VjY2Vzcy52YWx1ZSA9IF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlVXNlckRldGFpbHMoX3gyKSB7CiAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHZhciBkZWxldGVVc2VyID0gZnVuY3Rpb24gZGVsZXRlVXNlcih1c2VySWQpIHsKICAgIGlmICh3aW5kb3cuY29uZmlybSgiRG8geW91IHJlYWxseSB3YW50IHRvIHJlbW92ZSB0aGUgdXNlciAiLmNvbmNhdCh1c2VySWQsICI/IikpKSBzdG9yZS5kaXNwYXRjaCgnZGVsZXRlVXNlcicsIHVzZXJJZCk7CiAgfTsKCiAgdmFyIGdldFVzZXJEZXRhaWxzQnlJZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHVzZXJJZCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2ZldGNoVXNlckJ5SWQnLCB1c2VySWQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1snZ2V0VXNlckRldGFpbHMnXTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY29tcG8nKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCByZXMpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRVc2VyRGV0YWlsc0J5SWQoX3gzKSB7CiAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBzdWNjZXNzOiBzdWNjZXNzLAogICAgdXNlcnM6IHVzZXJzLAogICAgdXNlckxvZ2dlZEluOiB1c2VyTG9nZ2VkSW4sCiAgICB1c2VyRGV0YWlsczogdXNlckRldGFpbHMsCiAgICBmZXRjaEFsbFVzZXJzOiBmZXRjaEFsbFVzZXJzLAogICAgZmV0Y2hVc2VyTG9nZ2VkSW46IGZldGNoVXNlckxvZ2dlZEluLAogICAgZmV0Y2hVc2VyQnlJZDogZmV0Y2hVc2VyQnlJZCwKICAgIHVwZGF0ZVVzZXJQcm9maWxlOiB1cGRhdGVVc2VyUHJvZmlsZSwKICAgIHVwZGF0ZVVzZXJEZXRhaWxzOiB1cGRhdGVVc2VyRGV0YWlscywKICAgIGRlbGV0ZVVzZXI6IGRlbGV0ZVVzZXIsCiAgICBnZXRVc2VyRGV0YWlsc0J5SWQ6IGdldFVzZXJEZXRhaWxzQnlJZCwKICAgIGlzTG9hZGluZzogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1sndXRpbHMvaXNMb2FkaW5nJ107CiAgICB9KSwKICAgIGVycm9yOiBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWyd1dGlscy9nZXRFcnJvciddOwogICAgfSkKICB9Owp9"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/composables/useUsersDetails.js"],"names":["computed","ref","useStore","useUsersDetails","store","success","users","getters","userLoggedIn","userDetails","fetchAllUsers","dispatch","fetchUserLoggedIn","fetchUserById","userId","updateUserProfile","user","password","confirmPassword","commit","message","root","route","value","updateUserDetails","deleteUser","window","confirm","getUserDetailsById","res","console","log","isLoading","error"],"mappings":"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","sourcesContent":["import { computed, ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default function useUsersDetails() {\n    const store = useStore()\n\n    const success = ref(false)\n    const users = computed(() => store.getters['getAllUsers'])\n    const userLoggedIn = computed(() => store.getters['getLoggedUser'])\n    const userDetails = computed(() => store.getters['getUserDetails'])\n\n    const fetchAllUsers = () => store.dispatch('fetchAllUsers')\n    const fetchUserLoggedIn = () => store.dispatch('fetchUserLoggedIn')\n    const fetchUserById = (userId) => store.dispatch('fetchUserById', userId)\n\n    const updateUserProfile = async user => {\n        user.password !== user.confirmPassword\n            ? store.commit('utils/setError', { message: 'The password confirmation must match' }, { root: true })\n            : success.value = await store.dispatch('updateUserDetails', { user, route: 'profile' })\n    }\n    const updateUserDetails = async user => success.value = await store.dispatch('updateUserDetails', { user })\n\n    const deleteUser = userId => {\n        if (window.confirm(`Do you really want to remove the user ${userId}?`)) store.dispatch('deleteUser', userId)\n    }\n\n    const getUserDetailsById = async (userId) => {\n        await store.dispatch('fetchUserById', userId)\n        const res = await store.getters['getUserDetails']\n        console.log('compo')\n        console.log(res)\n        return res\n    }\n\n    return {\n        success,\n        users,\n        userLoggedIn,\n        userDetails,\n        \n        fetchAllUsers,\n        fetchUserLoggedIn,\n        fetchUserById,\n        updateUserProfile,\n        updateUserDetails,\n        deleteUser,\n        getUserDetailsById,\n        \n        isLoading: computed(() => store.getters['utils/isLoading']),\n        error: computed(() => store.getters['utils/getError'])\n    }\n}"]}]}