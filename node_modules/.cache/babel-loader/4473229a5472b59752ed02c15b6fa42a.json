{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/users.js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/users.js","mtime":1622303344641},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Z1YW5odHUvRGVza3RvcC93b3Jrc3BhY2UvdnVlL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgYWN0aW9uSGFuZGxlciBmcm9tICcuLi9hY3Rpb25IYW5kbGVyJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7Cgp2YXIgaW5pdGlhbFVzZXJTdGF0ZSA9IGZ1bmN0aW9uIGluaXRpYWxVc2VyU3RhdGUoKSB7CiAgdmFyIF9KU09OJHBhcnNlOwoKICByZXR1cm4gKF9KU09OJHBhcnNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSkgIT09IG51bGwgJiYgX0pTT04kcGFyc2UgIT09IHZvaWQgMCA/IF9KU09OJHBhcnNlIDogewogICAgX2lkOiAiIiwKICAgIGF1dGhHb29nbGVJRDogbnVsbCwKICAgIGF1dGhGYWNlYm9va0lEOiBudWxsLAogICAgYXV0aFR5cGU6ICJsb2NhbCIsCiAgICBzdHJlZXQ6ICIiLAogICAgaXNBZG1pbjogZmFsc2UsCiAgICBhcGFydG1lbnQ6ICIiLAogICAgY2l0eTogIiIsCiAgICB6aXA6ICIiLAogICAgY291bnRyeTogIiIsCiAgICBuYW1lOiAiIiwKICAgIGVtYWlsOiAiIiwKICAgIHBob25lOiAiIiwKICAgIHRva2VuOiBudWxsCiAgfTsKfTsKCnZhciBzdGF0ZSA9IHsKICBsb2dnZWRVc2VyOiBpbml0aWFsVXNlclN0YXRlKCksCiAgdXNlckRldGFpbHM6IHt9LAogIHVzZXJzOiBbXQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRMb2dnZWRVc2VyOiBmdW5jdGlvbiBnZXRMb2dnZWRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubG9nZ2VkVXNlcjsKICB9LAogIGdldFVzZXJEZXRhaWxzOiBmdW5jdGlvbiBnZXRVc2VyRGV0YWlscyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJEZXRhaWxzOwogIH0sCiAgZ2V0QWxsVXNlcnM6IGZ1bmN0aW9uIGdldEFsbFVzZXJzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcnM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvKiAKICAgKiBAZGVzYyAgICAgICAgQXV0aGVudGljYXRlIHVzZXIgJiBnZXQgdG9rZW4KICAgKiBAYWNjZXNzICAgICAgUHVibGljCiAgICovCiAgbG9naW5Vc2VyOiBhY3Rpb25IYW5kbGVyKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYsIF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQsIGVtYWlsLCBwYXNzd29yZCwgX3lpZWxkJGF4aW9zJHBvc3QsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgZW1haWwgPSBfcmVmMi5lbWFpbCwgcGFzc3dvcmQgPSBfcmVmMi5wYXNzd29yZDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL3VzZXJzL3NpZ25pbicsIHsKICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRwb3N0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJHBvc3QuZGF0YTsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkpOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcicsIHsKICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEuZGF0YSwKICAgICAgICAgICAgICAgIHN0YXRlUGllY2U6ICdsb2dnZWRVc2VyJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSksCgogIC8qIAogICAqIEBkZXNjICAgICAgICBTaWduIG91dCBsb2dnZWQgdXNlcgogICAqIEBhY2Nlc3MgICAgICBQcml2YXRlCiAgICovCiAgbG9nb3V0VXNlcjogZnVuY3Rpb24gbG9nb3V0VXNlcihfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICBjb21taXQoJ3Jlc2V0TG9nZ2VkVXNlcicpOwogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnbG9naW4nLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyZWN0OiByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlLmZ1bGxQYXRoLnNsaWNlKDEpCiAgICAgIH0KICAgIH0pOwogIH0sCgogIC8qIAogICAqIEBkZXNjICAgICAgICBSZWdpc3RlciBhIG5ldyB1c2VyCiAgICogQGFjY2VzcyAgICAgIFB1YmxpYwogICAqLwogIHJlZ2lzdGVyVXNlcjogYWN0aW9uSGFuZGxlciggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjUsIF9yZWY2KSB7CiAgICAgIHZhciBjb21taXQsIG5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmQsIF95aWVsZCRheGlvcyRwb3N0MiwgZGF0YTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgIG5hbWUgPSBfcmVmNi5uYW1lLCBlbWFpbCA9IF9yZWY2LmVtYWlsLCBwaG9uZSA9IF9yZWY2LnBob25lLCBwYXNzd29yZCA9IF9yZWY2LnBhc3N3b3JkOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL3VzZXJzL3NpZ251cCcsIHsKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmUsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkcG9zdDIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJHBvc3QyLmRhdGE7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpKTsKICAgICAgICAgICAgICBjb21taXQoJ3NldFVzZXInLCB7CiAgICAgICAgICAgICAgICB1c2VyOiBkYXRhLmRhdGEsCiAgICAgICAgICAgICAgICBzdGF0ZVBpZWNlOiAnbG9nZ2VkVXNlcicKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94MywgX3g0KSB7CiAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCkpLAoKICAvKiAKICAgKiBAZGVzYyAgICAgICAgR2V0IFVzZXIgYnkgaWQgb3IgdGhlIGxvZ2dlZCBpbgogICAqIEBhY2Nlc3MgICAgICBQcml2YXRlIHx8IEFkbWluCiAgICovCiAgZmV0Y2hVc2VyRGV0YWlsczogYWN0aW9uSGFuZGxlciggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoX3JlZjgpIHsKICAgICAgdmFyIGNvbW1pdCwKICAgICAgICAgIHN0YXRlLAogICAgICAgICAgdXNlciwKICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgX2FyZ3MzID0gYXJndW1lbnRzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQsIHN0YXRlID0gX3JlZjguc3RhdGU7CiAgICAgICAgICAgICAgdXNlciA9IF9hcmdzMy5sZW5ndGggPiAxICYmIF9hcmdzM1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzFdIDogJ3Byb2ZpbGUnOwogICAgICAgICAgICAgIGNvbW1pdCgncmVzZXRVc2VyRGV0YWlscycpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvdXNlcnMvIi5jb25jYXQodXNlciksIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChzdGF0ZS5sb2dnZWRVc2VyLnRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwogICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcicsIHsKICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEuZGF0YSwKICAgICAgICAgICAgICAgIHN0YXRlUGllY2U6ICd1c2VyRGV0YWlscycKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94NSkgewogICAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKSwKCiAgLyogCiAgICogQGRlc2MgICAgICAgIFVwZGF0ZSBsb2dnZWQgaW4gb3IgYnkgaWQgdXNlciBkYXRhCiAgICogQGFjY2VzcyAgICAgIFByaXZhdGUgfHwgQWRtaW4KICAgKi8KICB1cGRhdGVVc2VyRGV0YWlsczogYWN0aW9uSGFuZGxlciggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VyLCBfcmVmMTEkcm91dGUsIHJvdXRlLCBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGlzQWRtaW4sIF95aWVsZCRheGlvcyRwdXQsIGRhdGE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMC5jb21taXQsIHN0YXRlID0gX3JlZjEwLnN0YXRlOwogICAgICAgICAgICAgIHVzZXIgPSBfcmVmMTEudXNlciwgX3JlZjExJHJvdXRlID0gX3JlZjExLnJvdXRlLCByb3V0ZSA9IF9yZWYxMSRyb3V0ZSA9PT0gdm9pZCAwID8gJ3Byb2ZpbGUnIDogX3JlZjExJHJvdXRlOwogICAgICAgICAgICAgIG5hbWUgPSB1c2VyLm5hbWUsIGVtYWlsID0gdXNlci5lbWFpbCwgcGFzc3dvcmQgPSB1c2VyLnBhc3N3b3JkLCBpc0FkbWluID0gdXNlci5pc0FkbWluOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCIvdXNlcnMvIi5jb25jYXQocm91dGUpLCB7CiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgaXNBZG1pbjogaXNBZG1pbgogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChzdGF0ZS5sb2dnZWRVc2VyLnRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRwdXQgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJHB1dC5kYXRhOwoKICAgICAgICAgICAgICBpZiAocm91dGUgPT09ICdwcm9maWxlJykgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcicsIHsKICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS5kYXRhLAogICAgICAgICAgICAgICAgICBzdGF0ZVBpZWNlOiAnbG9nZ2VkVXNlcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29tbWl0KCdyZXNldFVzZXJEZXRhaWxzJyk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyJywgewogICAgICAgICAgICAgICAgdXNlcjogZGF0YS5kYXRhLAogICAgICAgICAgICAgICAgc3RhdGVQaWVjZTogJ3VzZXJEZXRhaWxzJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94NiwgX3g3KSB7CiAgICAgIHJldHVybiBfcmVmMTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKSwKCiAgLyogCiAgICogQGRlc2MgICAgICAgIEdldCBhbGwgcmVnaXN0ZXJlZCB1c2VycwogICAqIEBhY2Nlc3MgICAgICBBZG1pbgogICAqLwogIGZldGNoQWxsVXNlcnM6IGFjdGlvbkhhbmRsZXIoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjE0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShfcmVmMTMpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIF95aWVsZCRheGlvcyRnZXQyLCBkYXRhOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTMuY29tbWl0LCBzdGF0ZSA9IF9yZWYxMy5zdGF0ZTsKICAgICAgICAgICAgICBjb21taXQoJ3Jlc2V0QWxsVXNlcnMnKTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3VzZXJzJywgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHN0YXRlLmxvZ2dlZFVzZXIudG9rZW4pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX3lpZWxkJGF4aW9zJGdldDIgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGF4aW9zJGdldDIuZGF0YTsKICAgICAgICAgICAgICBjb21taXQoJ3NldEFsbFVzZXJzJywgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICByZXR1cm4gX3JlZjE0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSksCgogIC8qIAogICAqIEBkZXNjICAgICAgICBEZWxldGUgdXNlciBieSBpZAogICAqIEBhY2Nlc3MgICAgICBBZG1pbgogICAqLwogIGRlbGV0ZVVzZXI6IGFjdGlvbkhhbmRsZXIoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZjE2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihfcmVmMTUsIHVzZXJJZCkgewogICAgICB2YXIgZGlzcGF0Y2gsIHN0YXRlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjE1LmRpc3BhdGNoLCBzdGF0ZSA9IF9yZWYxNS5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmRlbGV0ZSgiL3VzZXJzLyIuY29uY2F0KHVzZXJJZCksIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChzdGF0ZS5sb2dnZWRVc2VyLnRva2VuKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGRpc3BhdGNoKCdmZXRjaEFsbFVzZXJzJyk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNik7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfeDksIF94MTApIHsKICAgICAgcmV0dXJuIF9yZWYxNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCkpCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgcmVzZXRMb2dnZWRVc2VyOiBmdW5jdGlvbiByZXNldExvZ2dlZFVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sb2dnZWRVc2VyID0gaW5pdGlhbFVzZXJTdGF0ZSgpOwogIH0sCiAgcmVzZXRVc2VyRGV0YWlsczogZnVuY3Rpb24gcmVzZXRVc2VyRGV0YWlscyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJEZXRhaWxzID0ge307CiAgfSwKICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCBfcmVmMTcpIHsKICAgIHZhciB1c2VyID0gX3JlZjE3LnVzZXIsCiAgICAgICAgc3RhdGVQaWVjZSA9IF9yZWYxNy5zdGF0ZVBpZWNlOwogICAgcmV0dXJuIE9iamVjdC5rZXlzKHVzZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICByZXR1cm4gc3RhdGVbc3RhdGVQaWVjZV1ba2V5XSA9IHVzZXJba2V5XTsKICAgIH0pOwogIH0sCiAgcmVzZXRBbGxVc2VyczogZnVuY3Rpb24gcmVzZXRBbGxVc2VycyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXJzID0gW107CiAgfSwKICBzZXRBbGxVc2VyczogZnVuY3Rpb24gc2V0QWxsVXNlcnMoc3RhdGUsIHVzZXJzKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcnMgPSB1c2VyczsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/users.js"],"names":["axios","actionHandler","router","initialUserState","JSON","parse","localStorage","getItem","_id","authGoogleID","authFacebookID","authType","street","isAdmin","apartment","city","zip","country","name","email","phone","token","state","loggedUser","userDetails","users","getters","getLoggedUser","getUserDetails","getAllUsers","actions","loginUser","commit","password","post","data","setItem","stringify","user","statePiece","logoutUser","removeItem","push","query","redirect","currentRoute","value","fullPath","slice","registerUser","fetchUserDetails","get","headers","Authorization","updateUserDetails","route","put","fetchAllUsers","deleteUser","userId","dispatch","delete","mutations","resetLoggedUser","resetUserDetails","setUser","Object","keys","forEach","key","resetAllUsers","setAllUsers"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport actionHandler from '../actionHandler'\nimport router from '@/router'\n\nconst initialUserState = () => (JSON.parse(localStorage.getItem('user')) ?? {\n    _id: \"\",\n    authGoogleID: null,\n    authFacebookID: null,\n    authType: \"local\",\n    street: \"\",\n    isAdmin: false,\n    apartment: \"\",\n    city: \"\",\n    zip: \"\",\n    country: \"\",\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    token: null,\n})\n\nconst state = {\n    loggedUser: initialUserState(),\n    userDetails: {},\n\n    users: []\n}\n\nconst getters = {\n    getLoggedUser: state => state.loggedUser,\n    getUserDetails: state => state.userDetails,\n    \n    getAllUsers: state => state.users\n}\n\nconst actions = {\n    /* \n     * @desc        Authenticate user & get token\n     * @access      Public\n     */\n    loginUser: actionHandler(async ({ commit }, { email, password }) => {\n        const { data } = await axios.post('/users/signin', { email, password })\n\n        localStorage.setItem('user', JSON.stringify(data.data))\n        commit('setUser', { user: data.data, statePiece: 'loggedUser' })\n    }),\n    \n    /* \n     * @desc        Sign out logged user\n     * @access      Private\n     */\n    logoutUser({ commit }) {\n        localStorage.removeItem('user')\n        commit('resetLoggedUser')\n\n        router.push({ name: 'login', query: { redirect: router.currentRoute.value.fullPath.slice(1) } })\n    },\n\n    /* \n     * @desc        Register a new user\n     * @access      Public\n     */\n    registerUser: actionHandler(async ({ commit }, { name, email, phone, password }) => {\n        const { data } = await axios.post('/users/signup', { name, email, phone, password })\n\n        localStorage.setItem('user', JSON.stringify(data.data))\n        commit('setUser', { user: data.data, statePiece: 'loggedUser' })\n    }),\n\n    /* \n     * @desc        Get User by id or the logged in\n     * @access      Private || Admin\n     */\n    fetchUserDetails: actionHandler(async ({ commit, state }, user = 'profile') => {\n        commit('resetUserDetails')\n        \n        const { data } = await axios.get(`/users/${user}`, {\n            headers: { Authorization: `Bearer ${state.loggedUser.token}` }\n        })\n\n        commit('setUser', { user: data.data, statePiece: 'userDetails' })\n    }),\n    \n    /* \n     * @desc        Update logged in or by id user data\n     * @access      Private || Admin\n     */\n    updateUserDetails: actionHandler(async ({ commit, state }, { user, route = 'profile' }) => {\n        const { name, email, password, isAdmin } = user\n\n        const { data } = await axios.put(`/users/${route}`,\n            { name, email, password, isAdmin },\n            { headers: { Authorization: `Bearer ${state.loggedUser.token}` }}\n        )\n\n        if (route === 'profile') {\n            localStorage.setItem('user', JSON.stringify(data.data))\n            commit('setUser', { user: data.data, statePiece: 'loggedUser' })\n        }\n        \n        commit('resetUserDetails')\n        commit('setUser', { user: data.data, statePiece: 'userDetails' })\n    }),\n\n    /* \n     * @desc        Get all registered users\n     * @access      Admin\n     */\n    fetchAllUsers: actionHandler(async ({ commit, state }) => {\n        commit('resetAllUsers')\n        \n        const { data } = await axios.get('/users', {\n            headers: { Authorization: `Bearer ${state.loggedUser.token}` }\n        })\n\n        commit('setAllUsers', data.data)\n    }),\n    \n    /* \n     * @desc        Delete user by id\n     * @access      Admin\n     */\n    deleteUser: actionHandler(async ({ dispatch, state }, userId ) => {\n        await axios.delete(`/users/${userId}`, {\n            headers: { Authorization: `Bearer ${state.loggedUser.token}` }\n        })\n\n        dispatch('fetchAllUsers')\n    })\n}\n\nconst mutations = {\n    resetLoggedUser: state => state.loggedUser = initialUserState(),\n    resetUserDetails: state => state.userDetails = {},\n    \n    setUser: (state, { user, statePiece }) => Object.keys(user).forEach(key => state[statePiece][key] = user[key]),\n\n    resetAllUsers: state => state.users = [],\n    setAllUsers: (state, users) => state.users = users\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}\n"]}]}