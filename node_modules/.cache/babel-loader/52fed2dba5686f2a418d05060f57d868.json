{"remainingRequest":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/thread-loader/dist/cjs.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js!/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js","dependencies":[{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js","mtime":1621152090012},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Z1YW5odHUvRGVza3RvcC93b3Jrc3BhY2UvdnVlL2VzaG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKCnZhciBfSlNPTiRwYXJzZSwgX0pTT04kcGFyc2UyOwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgYWN0aW9uSGFuZGxlciBmcm9tICcuLi9hY3Rpb25IYW5kbGVyJzsKdmFyIHN0YXRlID0gewogIGl0ZW1zOiAoX0pTT04kcGFyc2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0SXRlbXMnKSkpICE9PSBudWxsICYmIF9KU09OJHBhcnNlICE9PSB2b2lkIDAgPyBfSlNPTiRwYXJzZSA6IFtdLAogIHNoaXBwaW5nQWRkcmVzczogKF9KU09OJHBhcnNlMiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NoaXBwaW5nQWRkcmVzcycpKSkgIT09IG51bGwgJiYgX0pTT04kcGFyc2UyICE9PSB2b2lkIDAgPyBfSlNPTiRwYXJzZTIgOiB7fSwKICBwYXltZW50TWV0aG9kOiAnUGF5UGFsJwp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRDYXJ0SXRlbXM6IGZ1bmN0aW9uIGdldENhcnRJdGVtcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLml0ZW1zOwogIH0sCiAgZ2V0Q2FydENvdW50OiBmdW5jdGlvbiBnZXRDYXJ0Q291bnQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pdGVtcy5sZW5ndGg7CiAgfSwKICBnZXRTaGlwcGluZ0FkZHJlc3M6IGZ1bmN0aW9uIGdldFNoaXBwaW5nQWRkcmVzcyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnNoaXBwaW5nQWRkcmVzczsKICB9LAogIGdldFBheW1lbnRNZXRob2Q6IGZ1bmN0aW9uIGdldFBheW1lbnRNZXRob2Qoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wYXltZW50TWV0aG9kOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLyoKICAgKiBAZGVzYyAgICAgICAgQWRkIG9yIHVwZGF0ZSBhIGNhcnQgaXRlbQogICAqIEBhY2Nlc3MgICAgICBQdWJsaWMKICAgKi8KICBhZGRJdGVtOiBhY3Rpb25IYW5kbGVyKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYsIF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCBpZCwgcXVhbnRpdHksIF95aWVsZCRheGlvcyRnZXQsIGRhdGEsIF9kYXRhJGRhdGEsIF9pZCwgbmFtZSwgaW1hZ2UsIHByaWNlLCBjb3VudEluU3RvY2ssIGV4aXN0SXRlbTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgIGlkID0gX3JlZjIuaWQsIHF1YW50aXR5ID0gX3JlZjIucXVhbnRpdHk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS9wcm9kdWN0cy8iLmNvbmNhdChpZCkpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGE7CiAgICAgICAgICAgICAgX2RhdGEkZGF0YSA9IGRhdGEuZGF0YSwgX2lkID0gX2RhdGEkZGF0YS5faWQsIG5hbWUgPSBfZGF0YSRkYXRhLm5hbWUsIGltYWdlID0gX2RhdGEkZGF0YS5pbWFnZSwgcHJpY2UgPSBfZGF0YSRkYXRhLnByaWNlLCBjb3VudEluU3RvY2sgPSBfZGF0YSRkYXRhLmNvdW50SW5TdG9jazsKICAgICAgICAgICAgICBleGlzdEl0ZW0gPSBzdGF0ZS5pdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QgPT09IF9pZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb21taXQoZXhpc3RJdGVtICE9PSAtMSA/ICd1cGRhdGVDYXJ0SXRlbScgOiAnYWRkSXRlbVRvQ2FydCcsIHsKICAgICAgICAgICAgICAgIHByb2R1Y3Q6IF9pZCwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2UsCiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICBjb3VudEluU3RvY2s6IGNvdW50SW5TdG9jaywKICAgICAgICAgICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0SXRlbXMnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5pdGVtcykpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7CiAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCkpLAoKICAvKgogICAqIEBkZXNjICAgICAgICBSZW1vdmUgYSBjYXJ0IGl0ZW0KICAgKiBAYWNjZXNzICAgICAgUHVibGljCiAgICovCiAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gcmVtb3ZlSXRlbShfcmVmNCwgaWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgIGNvbW1pdCgncmVtb3ZlQ2FydEl0ZW0nLCBpZCk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydEl0ZW1zJywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuaXRlbXMpKTsKICB9LAoKICAvKgogICAqIEBkZXNjICAgICAgICBTYXZlIHRoZSB1c2VyIHNoaXBwaW5nIGFkZHJlc3Mgb24gbG9jYWxTdG9yYWdlCiAgICogQGFjY2VzcyAgICAgIFB1YmxpYwogICAqLwogIHNhdmVTaGlwcGluZ0FkZHJlc3M6IGZ1bmN0aW9uIHNhdmVTaGlwcGluZ0FkZHJlc3MoX3JlZjUsIF9yZWY2KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGU7CiAgICB2YXIgYWRkcmVzcyA9IF9yZWY2LmFkZHJlc3MsCiAgICAgICAgY2l0eSA9IF9yZWY2LmNpdHksCiAgICAgICAgcG9zdGFsQ29kZSA9IF9yZWY2LnBvc3RhbENvZGUsCiAgICAgICAgY291bnRyeSA9IF9yZWY2LmNvdW50cnk7CiAgICBjb21taXQoJ3NldFNoaXBwaW5nQWRkcmVzcycsIHsKICAgICAgYWRkcmVzczogYWRkcmVzcywKICAgICAgY2l0eTogY2l0eSwKICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZSwKICAgICAgY291bnRyeTogY291bnRyeQogICAgfSk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2hpcHBpbmdBZGRyZXNzJywgSlNPTi5zdHJpbmdpZnkoc3RhdGUuc2hpcHBpbmdBZGRyZXNzKSk7CiAgfSwKCiAgLyoKICAgKiBAZGVzYyAgICAgICAgU2F2ZSB0aGUgdXNlciBwYXltZW50IG1ldGhvZCBvbiBsb2NhbFN0b3JhZ2UKICAgKiBAYWNjZXNzICAgICAgUHVibGljCiAgICovCiAgc2F2ZVBheW1lbnRNZXRob2Q6IGZ1bmN0aW9uIHNhdmVQYXltZW50TWV0aG9kKF9yZWY3LCBwYXltZW50TWV0aG9kKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgY29tbWl0KCdzZXRQYXltZW50TWV0aG9kJywgcGF5bWVudE1ldGhvZCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIGFkZEl0ZW1Ub0NhcnQ6IGZ1bmN0aW9uIGFkZEl0ZW1Ub0NhcnQoc3RhdGUsIGl0ZW0pIHsKICAgIHJldHVybiBzdGF0ZS5pdGVtcy51bnNoaWZ0KGl0ZW0pOwogIH0sCiAgdXBkYXRlQ2FydEl0ZW06IGZ1bmN0aW9uIHVwZGF0ZUNhcnRJdGVtKHN0YXRlLCBuZXdJdGVtKSB7CiAgICB2YXIgaXRlbSA9IHN0YXRlLml0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdCA9PT0gbmV3SXRlbS5wcm9kdWN0OwogICAgfSk7CiAgICBPYmplY3Qua2V5cyhuZXdJdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgcmV0dXJuIGl0ZW1ba2V5XSA9IG5ld0l0ZW1ba2V5XTsKICAgIH0pOwogIH0sCiAgcmVtb3ZlQ2FydEl0ZW06IGZ1bmN0aW9uIHJlbW92ZUNhcnRJdGVtKHN0YXRlLCBpZCkgewogICAgcmV0dXJuIHN0YXRlLml0ZW1zID0gc3RhdGUuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QgIT09IGlkOwogICAgfSk7CiAgfSwKICBzZXRTaGlwcGluZ0FkZHJlc3M6IGZ1bmN0aW9uIHNldFNoaXBwaW5nQWRkcmVzcyhzdGF0ZSwgc2hpcHBpbmdBZGRyZXNzKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2hpcHBpbmdBZGRyZXNzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNoaXBwaW5nQWRkcmVzc1trZXldID0gc2hpcHBpbmdBZGRyZXNzW2tleV07CiAgICB9KTsKICB9LAogIHNldFBheW1lbnRNZXRob2Q6IGZ1bmN0aW9uIHNldFBheW1lbnRNZXRob2Qoc3RhdGUsIHBheW1lbnRNZXRob2QpIHsKICAgIHJldHVybiBzdGF0ZS5wYXltZW50TWV0aG9kID0gcGF5bWVudE1ldGhvZDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/vuanhtu/Desktop/workspace/vue/eshop/frontend/src/store/modules/cart.js"],"names":["axios","actionHandler","state","items","JSON","parse","localStorage","getItem","shippingAddress","paymentMethod","getters","getCartItems","getCartCount","length","getShippingAddress","getPaymentMethod","actions","addItem","commit","id","quantity","get","data","_id","name","image","price","countInStock","existItem","findIndex","item","product","setItem","stringify","removeItem","saveShippingAddress","address","city","postalCode","country","savePaymentMethod","mutations","addItemToCart","unshift","updateCartItem","newItem","find","Object","keys","forEach","key","removeCartItem","filter","setShippingAddress","setPaymentMethod"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport actionHandler from '../actionHandler'\n\nconst state = {\n    items: JSON.parse(localStorage.getItem('cartItems')) ?? [],\n    shippingAddress: JSON.parse(localStorage.getItem('shippingAddress')) ?? {},\n    paymentMethod: 'PayPal'\n}\n\nconst getters = {\n    getCartItems: state => state.items,\n    getCartCount: state => state.items.length,\n\n    getShippingAddress: state => state.shippingAddress,\n    getPaymentMethod: state => state.paymentMethod\n}\n\nconst actions = {\n    /*\n     * @desc        Add or update a cart item\n     * @access      Public\n     */\n    addItem: actionHandler(async ({ commit, state }, { id, quantity }) => {\n        const { data } = await axios.get(`/api/products/${id}`)\n        const { _id, name, image, price, countInStock } = data.data\n        \n        const existItem = state.items.findIndex(item => item.product === _id)\n        \n        commit(existItem !== -1 ? 'updateCartItem' : 'addItemToCart', {\n            product: _id,\n            name,\n            image,\n            price,\n            countInStock,\n            quantity\n        })\n\n        localStorage.setItem('cartItems', JSON.stringify(state.items))\n    }),\n    \n    /*\n     * @desc        Remove a cart item\n     * @access      Public\n     */\n    removeItem({ commit, state }, id) {\n        commit('removeCartItem', id)\n        localStorage.setItem('cartItems', JSON.stringify(state.items))\n    },\n\n    /*\n     * @desc        Save the user shipping address on localStorage\n     * @access      Public\n     */\n    saveShippingAddress({ commit, state }, { address, city, postalCode, country }) {\n        commit('setShippingAddress', { address, city, postalCode, country })\n        localStorage.setItem('shippingAddress', JSON.stringify(state.shippingAddress))\n    },\n\n    /*\n     * @desc        Save the user payment method on localStorage\n     * @access      Public\n     */\n    savePaymentMethod({ commit }, paymentMethod) {\n        commit('setPaymentMethod', paymentMethod)\n    }\n}\n\nconst mutations = {\n    addItemToCart: (state, item) => state.items.unshift(item),\n    updateCartItem: (state, newItem) => {\n        const item = state.items.find(item => item.product === newItem.product)\n        Object.keys(newItem).forEach(key => item[key] = newItem[key])\n    },\n    removeCartItem: (state, id) => state.items = state.items.filter(item => item.product !== id),\n\n    setShippingAddress: (state, shippingAddress) => Object.keys(shippingAddress).forEach(key => state.shippingAddress[key] = shippingAddress[key]),\n    setPaymentMethod: (state, paymentMethod) => state.paymentMethod = paymentMethod\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}\n"]}]}