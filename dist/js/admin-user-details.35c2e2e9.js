(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-user-details"],{"34c1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("1da1"),c=(r("96cf"),r("7a23")),s=r("5502");function a(){var e=Object(s["b"])(),t=Object(c["w"])(!1),r=Object(c["b"])((function(){return e.getters["getAllUsers"]})),a=Object(c["b"])((function(){return e.getters["getUserDetails"]})),i=function(){return e.dispatch("fetchAllUsers")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile";return e.dispatch("fetchUserDetails",t)},u=function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.password===n.confirmPassword){r.next=4;break}e.commit("utils/setError",{message:"The password confirmation must match"},{root:!0}),r.next=7;break;case 4:return r.next=6,e.dispatch("updateUserDetails",{user:n});case 6:t.value=r.sent;case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),o=function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.dispatch("updateUserDetails",{user:n,route:n._id});case 2:return r.abrupt("return",t.value=r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),d=function(t){window.confirm("Do you really want to remove the user ".concat(t,"?"))&&e.dispatch("deleteUser",t)};return{success:t,users:r,userDetails:a,fetchAllUsers:i,fetchUserDetails:l,updateUserProfile:u,updateUserDetails:o,deleteUser:d,isLoading:Object(c["b"])((function(){return e.getters["utils/isLoading"]})),error:Object(c["b"])((function(){return e.getters["utils/getError"]}))}}},"756a":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),c=Object(n["J"])("data-v-0157d2c0");Object(n["u"])("data-v-0157d2c0");var s={id:"user-details",class:"container-lg container-fluid"},a={class:"mb-4"},i=Object(n["f"])(" Users "),l=Object(n["g"])("span",{class:"text-muted"},"/",-1),u={class:"row"},o={class:"col-lg-3"},d=Object(n["g"])("h3",{class:"mb-3"},"Details",-1),b=Object(n["f"])(" Profile updated "),j={class:"form-check mb-3"},O=Object(n["g"])("label",{for:"isAdmin",class:"form-check-label"},"Is Admin",-1),m=Object(n["g"])("button",{type:"submit",class:"btn btn-dark btn-block"}," Update ",-1),f={class:"col-lg-9 mt-lg-0 mt-4"},g={class:"mb-3"},p=Object(n["f"])("Orders "),h={key:1,class:"table-responsive"},v={class:"table table-hover table-sm"},y=Object(n["g"])("th",null,"Id",-1),w=Object(n["g"])("th",{class:"min-width"},"Date",-1),k=Object(n["g"])("th",null,"Total",-1),U=Object(n["g"])("th",null,null,-1),D={key:0},A={key:0};Object(n["s"])();var x=c((function(e,t,r,x,_,V){var B=Object(n["z"])("router-link"),I=Object(n["z"])("v-loader"),L=Object(n["z"])("v-alert"),P=Object(n["z"])("v-form-input"),z=Object(n["z"])("font-awesome-icon");return Object(n["r"])(),Object(n["d"])("div",s,[Object(n["g"])("h2",a,[Object(n["g"])(B,{to:{name:"admin.users.index"},class:"text-secondary"},{default:c((function(){return[i]})),_:1},8,["to"]),l,Object(n["f"])(" "+Object(n["B"])(x.user.name),1)]),x.isLoading?(Object(n["r"])(),Object(n["d"])(I,{key:0})):x.error.message?(Object(n["r"])(),Object(n["d"])(L,{key:1},{default:c((function(){return[Object(n["f"])(Object(n["B"])(x.error.message),1)]})),_:1})):Object(n["e"])("",!0),Object(n["g"])("div",u,[Object(n["g"])("div",o,[d,x.success?(Object(n["r"])(),Object(n["d"])(L,{key:0,type:"alert-success"},{default:c((function(){return[b]})),_:1})):Object(n["e"])("",!0),Object(n["g"])("form",{onSubmit:t[4]||(t[4]=Object(n["I"])((function(e){return x.updateUserDetails(x.user)}),["prevent"]))},[Object(n["g"])(P,{modelValue:x.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return x.user.name=e}),inputId:"name",label:"Name",errors:x.error.errors?x.error.errors.name:void 0},null,8,["modelValue","errors"]),Object(n["g"])(P,{modelValue:x.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.user.email=e}),inputId:"email",label:"Email Address",class:"mb-2",errors:x.error.errors?x.error.errors.email:void 0},null,8,["modelValue","errors"]),Object(n["g"])("div",j,[Object(n["H"])(Object(n["g"])("input",{id:"isAdmin",type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=function(e){return x.user.isAdmin=e})},null,512),[[n["D"],x.user.isAdmin]]),O]),m],32)]),Object(n["g"])("div",f,[Object(n["g"])("h3",g,[p,Object(n["g"])("sup",null,Object(n["B"])(x.orders.length),1)]),x.isLoading||0!==x.orders.length?(Object(n["r"])(),Object(n["d"])("div",h,[Object(n["g"])("table",v,[Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[y,w,k,Object(n["g"])("th",{class:{"min-width":x.orders.some((function(e){return e.isPaid}))}},"Paid",2),Object(n["g"])("th",{class:{"min-width":x.orders.some((function(e){return e.isDelivered}))}},"Delivered",2),U])]),Object(n["g"])("tbody",null,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(x.orders,(function(e){return Object(n["r"])(),Object(n["d"])("tr",{key:e._id},[Object(n["g"])("td",null,Object(n["B"])(e._id),1),Object(n["g"])("td",null,Object(n["B"])(x.dayjs(e.createdAt).format("lll")),1),Object(n["g"])("td",null,Object(n["B"])(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.totalPrice)),1),Object(n["g"])("td",null,[e.isPaid?(Object(n["r"])(),Object(n["d"])("span",D,Object(n["B"])(x.dayjs(e.paidAt).format("lll")),1)):(Object(n["r"])(),Object(n["d"])(z,{key:1,icon:["fas","times"]}))]),Object(n["g"])("td",null,[e.isDelivered?(Object(n["r"])(),Object(n["d"])("span",A,Object(n["B"])(x.dayjs(e.deliveredAt).format("lll")),1)):(Object(n["r"])(),Object(n["d"])(z,{key:1,icon:["fas","times"]}))]),Object(n["g"])("td",null,[Object(n["g"])(B,{to:{name:"orders.show",params:{id:e._id}},class:"btn btn-link btn-sm"},{default:c((function(){return[Object(n["g"])(z,{icon:["fas","info-circle"]})]})),_:2},1032,["to"])])])})),128))])])])):(Object(n["r"])(),Object(n["d"])(L,{key:0,type:"alert-info"},{default:c((function(){return[Object(n["f"])(Object(n["B"])(x.user.name)+" don't have any order yet. ",1)]})),_:1}))])])])})),_=(r("d3b7"),r("3ca3"),r("ddb0"),r("6c02")),V=r("2e28"),B=r("34c1"),I=r("3701"),L=r("5a0c"),P=r.n(L),z=r("23ad"),R=r.n(z);P.a.extend(R.a);var E={name:"User Details",components:{VFormInput:V["a"],VLoader:Object(n["h"])((function(){return r.e("loader-component").then(r.bind(null,"300d"))})),VAlert:Object(n["h"])((function(){return r.e("message-component").then(r.bind(null,"1336"))}))},setup:function(){var e=Object(_["c"])(),t=Object(B["a"])(),r=t.success,c=t.userDetails,s=t.fetchUserDetails,a=t.updateUserDetails,i=t.isLoading,l=t.error,u=Object(I["a"])(),o=u.orders,d=u.fetchAllOrders;s(e.params.id),d(e.params.id);var b=Object(n["w"])(c.value);return{success:r,user:b,orders:o,updateUserDetails:a,dayjs:P.a,isLoading:i,error:l}}};r("febd");E.render=x,E.__scopeId="data-v-0157d2c0";t["default"]=E},c1b3:function(e,t,r){},febd:function(e,t,r){"use strict";r("c1b3")}}]);
//# sourceMappingURL=admin-user-details.35c2e2e9.js.map