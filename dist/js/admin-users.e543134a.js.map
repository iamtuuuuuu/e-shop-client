{"version":3,"sources":["webpack:///./src/composables/useUsersDetails.js","webpack:///./src/views/Admin/Users.vue?d842","webpack:///./src/views/Admin/Users.vue","webpack:///./src/views/Admin/Users.vue?c1bc"],"names":["useUsersDetails","store","useStore","success","ref","users","computed","getters","userDetails","fetchAllUsers","dispatch","fetchUserDetails","user","updateUserProfile","password","confirmPassword","commit","message","root","value","updateUserDetails","route","_id","deleteUser","userId","window","confirm","isLoading","error","id","class","type","data-toggle","aria-haspopup","aria-expanded","key","name","href","email","icon","isAdmin","to","components","VLoader","VAlert","setup","render","__scopeId"],"mappings":"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","file":"js/admin-users.e543134a.js","sourcesContent":["import { computed, ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default function useUsersDetails() {\n    const store = useStore()\n\n    const success = ref(false)\n    const users = computed(() => store.getters['getAllUsers'])\n    const userDetails = computed(() => store.getters['getUserDetails'])\n\n    const fetchAllUsers = () => store.dispatch('fetchAllUsers')\n    const fetchUserDetails = (user = 'profile') => store.dispatch('fetchUserDetails', user)\n\n    const updateUserProfile = async user => {\n        user.password !== user.confirmPassword\n            ? store.commit('utils/setError', { message: 'The password confirmation must match' }, { root: true })\n            : success.value = await store.dispatch('updateUserDetails', { user })\n    }\n    const updateUserDetails = async user => success.value = await store.dispatch('updateUserDetails', { user, route: user._id })\n\n    const deleteUser = userId => {\n        if (window.confirm(`Do you really want to remove the user ${userId}?`)) store.dispatch('deleteUser', userId)\n    }\n\n    return {\n        success,\n        users,\n        userDetails,\n        \n        fetchAllUsers,\n        fetchUserDetails,\n        updateUserProfile,\n        updateUserDetails,\n        deleteUser,\n        \n        isLoading: computed(() => store.getters['utils/isLoading']),\n        error: computed(() => store.getters['utils/getError'])\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Users.vue?vue&type=style&index=0&id=0885d2f4&scoped=true&lang=scss\"","<template>\n<div id=\"users\" class=\"container-lg container-fluid\">\n    <h2 class=\"mb-3\">Users</h2>\n    \n    <v-loader v-if=\"isLoading\" />\n    <v-alert v-else-if=\"error.message\">\n        {{ error.message }}\n    </v-alert>\n\n    <div class=\"table-responsive\" v-else>\n        <table class=\"table table-hover table-sm\">\n            <thead>\n                <tr>\n                    <th>Id</th>\n                    <th class=\"min-width\">Name</th>\n                    <th>Email</th>\n                    <th>Admin</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"user in users\" :key=\"user._id\">\n                    <td>{{ user._id }}</td>\n                    <td>{{ user.name }}</td>\n                    <td>\n                        <a :href=\"`mailto:${user.email}`\">{{ user.email }}</a>\n                    </td>\n                    <td>\n                        <font-awesome-icon :icon=\"['fas', user.isAdmin ? 'check' : 'times']\" />\n                    </td>\n                    <td>\n                        <div class=\"btn-group dropleft\">\n                            <button type=\"button\" class=\"btn py-0 px-1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                <font-awesome-icon :icon=\"['fas', 'ellipsis-v']\" />\n                            </button>\n\n                            <div class=\"dropdown-menu\">\n                                <h6 class=\"dropdown-header\">{{ user.name }}</h6>\n                                <router-link :to=\"{ name: 'admin.users.show', params: { id: user._id } }\" class=\"dropdown-item\">\n                                    <font-awesome-icon :icon=\"['fas', 'edit']\" class=\"mr-2\" /> Edit\n                                </router-link>\n\n                                <button class=\"dropdown-item\" @click.prevent=\"deleteUser(user._id)\">\n                                    <font-awesome-icon :icon=\"['fas', 'trash']\" class=\"mr-2\" /> Remove\n                                </button>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n</template>\n\n<script>\nimport { defineAsyncComponent } from 'vue'\nimport useUsersDetails from '@/composables/useUsersDetails'\n\nexport default {\n    name: 'Users',\n    components: {\n        VLoader: defineAsyncComponent(() => import(/* webpackChunkName: \"loader-component\" */ '@/components/utils/VLoader')),\n        VAlert: defineAsyncComponent(() => import(/* webpackChunkName: \"message-component\" */ '@/components/utils/VAlert'))\n    },\n    setup() {\n        const { users, fetchAllUsers, deleteUser, isLoading, error } = useUsersDetails()\n\n        fetchAllUsers()\n\n        return {\n            users,\n            deleteUser,\n            isLoading,\n            error\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\ntable {\n    thead tr th,\n    tbody tr td {\n        text-align: center;\n        vertical-align: middle;\n\n        svg {\n            &.fa-check { color: var(--success) }\n            &.fa-times { color: var(--danger) }\n        }\n        \n        .btn-group.dropleft {\n            > .btn {\n                font-size: 1.4em;\n            }\n            \n            .dropdown-menu {\n                max-width: 14rem;\n\n                .dropdown-header,\n                .dropdown-item {\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n            }\n        }\n\n    }\n}\n\n@media (max-width: 767px) {\n    table thead tr th.min-width {\n        min-width: 12rem\n    }\n}\n</style>\n","import { render } from \"./Users.vue?vue&type=template&id=0885d2f4&scoped=true\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\n\nimport \"./Users.vue?vue&type=style&index=0&id=0885d2f4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0885d2f4\"\n\nexport default script"],"sourceRoot":""}