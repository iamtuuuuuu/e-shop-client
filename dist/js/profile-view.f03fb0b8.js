(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile-view"],{2577:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),s=Object(n["J"])("data-v-e32aacbe");Object(n["u"])("data-v-e32aacbe");var c={id:"profile",class:"container-lg container-fluid"},a={class:"row"},o={class:"col-lg-3"},l=Object(n["g"])("h2",{class:"mb-3"},"User Profile",-1),u=Object(n["f"])(" Profile updated "),i=Object(n["g"])("button",{type:"submit",class:"btn btn-dark btn-block"}," Update ",-1),d={class:"col-lg-9 mt-lg-0 mt-4"},b=Object(n["g"])("h2",{class:"mb-3"},"My Orders",-1),j=Object(n["f"])(" You don't have any order yet. "),O={key:1,class:"table-responsive"},f={class:"table table-hover table-sm"},m=Object(n["g"])("th",null,"Id",-1),p=Object(n["g"])("th",{class:"min-width"},"Date",-1),g=Object(n["g"])("th",null,"Total",-1),h=Object(n["g"])("th",{class:"min-width"},"Paid",-1),v=Object(n["g"])("th",null,null,-1),w={key:0},y={key:0};Object(n["s"])();var U=s((function(e,t,r,U,k,P){var D=Object(n["z"])("v-loader"),V=Object(n["z"])("v-alert"),_=Object(n["z"])("v-form-input"),I=Object(n["z"])("font-awesome-icon"),x=Object(n["z"])("router-link");return Object(n["r"])(),Object(n["d"])("div",c,[U.isLoading?(Object(n["r"])(),Object(n["d"])(D,{key:0})):U.error.message?(Object(n["r"])(),Object(n["d"])(V,{key:1},{default:s((function(){return[Object(n["f"])(Object(n["B"])(U.error.message),1)]})),_:1})):Object(n["e"])("",!0),Object(n["g"])("div",a,[Object(n["g"])("div",o,[l,U.success?(Object(n["r"])(),Object(n["d"])(V,{key:0,type:"alert-success"},{default:s((function(){return[u]})),_:1})):Object(n["e"])("",!0),Object(n["g"])("form",{onSubmit:t[5]||(t[5]=Object(n["I"])((function(e){return U.updateUserProfile(U.user)}),["prevent"]))},[Object(n["g"])(_,{modelValue:U.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return U.user.name=e}),inputId:"name",label:"Name",errors:U.error.errors?U.error.errors.name:void 0},null,8,["modelValue","errors"]),Object(n["g"])(_,{modelValue:U.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return U.user.email=e}),inputId:"email",label:"Email Address",errors:U.error.errors?U.error.errors.email:void 0},null,8,["modelValue","errors"]),Object(n["g"])(_,{modelValue:U.user.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return U.user.password=e}),inputId:"password",label:"Password",type:"password",errors:U.error.errors?U.error.errors.password:void 0},null,8,["modelValue","errors"]),Object(n["g"])(_,{modelValue:U.user.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=function(e){return U.user.confirmPassword=e}),inputId:"confirmPassword",label:"Confirm Password",type:"password"},null,8,["modelValue"]),i],32)]),Object(n["g"])("div",d,[b,0===U.orders.length?(Object(n["r"])(),Object(n["d"])(V,{key:0,type:"alert-info"},{default:s((function(){return[j]})),_:1})):(Object(n["r"])(),Object(n["d"])("div",O,[Object(n["g"])("table",f,[Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[m,p,g,h,Object(n["g"])("th",{class:{"min-width":U.orders.some((function(e){return e.isDelivered}))}},"Delivered",2),v])]),Object(n["g"])("tbody",null,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["x"])(U.orders,(function(e){return Object(n["r"])(),Object(n["d"])("tr",{key:e._id},[Object(n["g"])("td",null,Object(n["B"])(e._id),1),Object(n["g"])("td",null,Object(n["B"])(U.dayjs(e.createdAt).format("lll")),1),Object(n["g"])("td",null,Object(n["B"])(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.totalPrice)),1),Object(n["g"])("td",null,[e.isPaid?(Object(n["r"])(),Object(n["d"])("span",w,Object(n["B"])(U.dayjs(e.paidAt).format("lll")),1)):(Object(n["r"])(),Object(n["d"])(I,{key:1,icon:["fas","times"]}))]),Object(n["g"])("td",null,[e.isDelivered?(Object(n["r"])(),Object(n["d"])("span",y,Object(n["B"])(U.dayjs(e.deliveredAt).format("lll")),1)):(Object(n["r"])(),Object(n["d"])(I,{key:1,icon:["fas","times"]}))]),Object(n["g"])("td",null,[Object(n["g"])(x,{to:{name:"orders.show",params:{id:e._id}},class:"btn btn-link btn-sm"},{default:s((function(){return[Object(n["g"])(I,{icon:["fas","info-circle"]})]})),_:2},1032,["to"])])])})),128))])])]))])])])})),k=(r("d3b7"),r("3ca3"),r("ddb0"),r("2e28")),P=r("34c1"),D=r("3701"),V=r("5a0c"),_=r.n(V),I=r("23ad"),x=r.n(I);_.a.extend(x.a);var A={name:"Profile",components:{VFormInput:k["a"],VLoader:Object(n["h"])((function(){return r.e("loader-component").then(r.bind(null,"300d"))})),VAlert:Object(n["h"])((function(){return r.e("message-component").then(r.bind(null,"1336"))}))},setup:function(){var e=Object(P["a"])(),t=e.success,r=e.userDetails,s=e.fetchUserDetails,c=e.updateUserProfile,a=e.isLoading,o=e.error,l=Object(D["a"])(),u=l.orders,i=l.fetchMyOrders;s(),i();var d=Object(n["w"])(r.value);return{success:t,user:d,orders:u,updateUserProfile:c,dayjs:_.a,isLoading:a,error:o}}};r("47e9");A.render=U,A.__scopeId="data-v-e32aacbe";t["default"]=A},"34c1":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("1da1"),s=(r("96cf"),r("7a23")),c=r("5502");function a(){var e=Object(c["b"])(),t=Object(s["w"])(!1),r=Object(s["b"])((function(){return e.getters["getAllUsers"]})),a=Object(s["b"])((function(){return e.getters["getUserDetails"]})),o=function(){return e.dispatch("fetchAllUsers")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile";return e.dispatch("fetchUserDetails",t)},u=function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.password===n.confirmPassword){r.next=4;break}e.commit("utils/setError",{message:"The password confirmation must match"},{root:!0}),r.next=7;break;case 4:return r.next=6,e.dispatch("updateUserDetails",{user:n});case 6:t.value=r.sent;case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),i=function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.dispatch("updateUserDetails",{user:n,route:n._id});case 2:return r.abrupt("return",t.value=r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),d=function(t){window.confirm("Do you really want to remove the user ".concat(t,"?"))&&e.dispatch("deleteUser",t)};return{success:t,users:r,userDetails:a,fetchAllUsers:o,fetchUserDetails:l,updateUserProfile:u,updateUserDetails:i,deleteUser:d,isLoading:Object(s["b"])((function(){return e.getters["utils/isLoading"]})),error:Object(s["b"])((function(){return e.getters["utils/getError"]}))}}},"47e9":function(e,t,r){"use strict";r("c1b9")},c1b9:function(e,t,r){}}]);
//# sourceMappingURL=profile-view.f03fb0b8.js.map